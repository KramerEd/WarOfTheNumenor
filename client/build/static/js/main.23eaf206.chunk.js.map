{"version":3,"sources":["components/HeroPanel/HeroPanel.js","redux/actions/heroAction.js","redux/selectors/heroSelector.js","assets/png/creep.png","assets/png/hero.png","helpers/getRandomInt.js","helpers/getChance.js","components/FightArea/FightArea.js","redux/actions/creepAction.js","redux/selectors/creepSelector.js","components/NavPanel/NavPanel.js","assets/png/woods.png","assets/png/woods2.png","assets/png/wolf.png","redux/actions/locationAction.js","assets/png/witch.png","redux/selectors/locationSelector.js","components/Location/Location.js","pages/Homepage/Homepage.js","Routes.js","redux/reducers/creepReducer.js","redux/reducers/heroReducer.js","redux/reducers/locationReducer.js","redux/rootReducer.js","hooks/useAuth.js","context/AuthContext.js","App.js","redux/createStore.js","reportWebVitals.js","index.js"],"names":["HeroPanel","hero","className","armyCount","army","horsemen","count","archers","infantry","login","power","level","attack","minDmg","maxDmg","def","minionHp","heroMagic","mage","chance","dmg","human","elf","gnome","valar","morgote","buffAttack","crit","surprise","buffHp","armour","evasion","fetchHero","createAsyncThunk","a","data","axios","get","config","serverUrl","then","res","getHero","createSelector","state","getRandomInt","min","max","Math","ceil","floor","random","getChanceAttack","attackChance","getChanceMagic","percents","FightArea","heroData","creepData","creepsCount","useState","setHero","creeps","setCreeps","logs","setLogs","fightResult","setFightResult","heroHpBar","setHeroHpBar","creepHpBar","setCreepHpBar","loot","setLoot","useEffect","name","hp","buff","buffLoot","handleAttackCreep","allHeroDmg","horsemenDmg","archersDmg","infantryDmg","mageDmg","humanDmg","elfDmg","gnomeDmg","valarDmg","morgoteDmg","critical","creepDmg","isAttackHero","isAttackCreeps","creepHpAfterAttack","heroDefAfterAttack","parseInt","map","item","onClick","window","location","reload","style","src","heroImg","alt","creepImg","log","index","itemName","fetchCreep","getCreep","creep","NavPanel","selectedCreepInLocation","createAction","getSelectedCreep","selectedCreep","Location","activeItem","setActiveItem","activeLvl","setActiveLvl","activeLocation","setActiveLocation","useSelector","dispatch","useDispatch","handleChangeActiveItem","handleChangeActiveLvl","lvl","backgroundColor","color","woods","woods2","type","wolf","Homepage","creepName","Routes","path","to","creepReducer","createReducer","loading","error","pending","fulfilled","action","payload","rejected","heroReducer","combineReducers","locationReducer","form","formReducer","storageName","AuthContext","createContext","token","userId","noop","logout","isAuthenticated","store","configureStore","reducer","rootReducer","devTools","App","setToken","ready","setReady","setUserId","useCallback","jwtToken","id","localStorage","setItem","JSON","stringify","removeItem","parse","getItem","useAuth","Provider","value","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.23eaf206.chunk.js","sourcesContent":["import React from 'react'\r\nimport './HeroPanel.scss'\r\nexport default function HeroPanel({ hero,className }) {\r\n  const armyCount = hero && hero.army.horsemen.count + hero.army.archers.count + hero.army.infantry.count\r\n\r\n  return (\r\n    <>\r\n      {\r\n        hero &&\r\n        <div className={`heroPanel ${className}`}>\r\n          <h2 className='heroPanel__heroes'>Имя: {hero.login}</h2>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Мощь:{hero.power}</p>\r\n            <p>Уровень:{hero.level}</p>\r\n          </div>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Урон армии:{hero.attack.minDmg} - {hero.attack.maxDmg}</p>\r\n            <p>Защита:{hero.def}</p>\r\n          </div>\r\n          <div className=\"heroPanel__army heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Войско:</h3>\r\n            <p>Кол-во: {armyCount}</p>\r\n            <p>Атака: {armyCount * 1} - {armyCount * 3}</p>\r\n            <p>Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Всадники: {hero.army.horsemen.count} Урон:{hero.army.horsemen.minDmg} - {hero.army.horsemen.maxDmg} Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Лучники: {hero.army.archers.count} Урон:{hero.army.archers.minDmg} - {hero.army.archers.maxDmg} Здоровье: {hero.army.archers.minionHp}</p>\r\n            <p>Пехота: {hero.army.infantry.count} Урон:{hero.army.infantry.minDmg} - {hero.army.infantry.maxDmg} Здоровье: {hero.army.infantry.minionHp}</p>\r\n          </div>\r\n          <div className=\"heroPanel__magic heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Магия и способности героев:</h3>\r\n            <p>Маг: {hero.heroMagic.mage.chance}% урон {hero.heroMagic.mage.dmg}</p>\r\n            <p>Человек: {hero.heroMagic.human.chance}% урон {hero.heroMagic.human.dmg}</p>\r\n            <p>Эльф: {hero.heroMagic.elf.chance}% урон {hero.heroMagic.elf.dmg}</p>\r\n            <p>Гном: {hero.heroMagic.gnome.chance}% урон {hero.heroMagic.gnome.dmg}</p>\r\n            <p>Воля Валар: {hero.heroMagic.valar.chance}% урон {hero.heroMagic.valar.dmg}</p>\r\n            <p>Воля Моргота: {hero.heroMagic.morgote.chance}% урон {hero.heroMagic.morgote.dmg}</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffAttack heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление атаки:</h3>\r\n            <p>Крит шанс: {hero.buffAttack.crit.chance}% </p>\r\n            <p>Крит урон: {hero.buffAttack.crit.dmg}%</p>\r\n            <p>Шанс внезапности: {hero.buffAttack.surprise.chance}%</p>\r\n            <p>Урон внезапности: {hero.buffAttack.surprise.dmg}%</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffHp heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление здоровья:</h3>\r\n            <p>Защита: {hero.buffHp.def}% ув. здор.</p>\r\n            <p>Броня: {hero.buffHp.armour}% к (здор.+защ.)</p>\r\n            <p>Уворот: {hero.buffHp.evasion}%</p>\r\n          </div>\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchHero = createAsyncThunk('hero/fetchHero', async (login) => {\r\n  const data = axios.get(`${config.serverUrl}/api/heroes/${login}`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getHero = createSelector(\r\n  state => state.hero.data[0],\r\n  hero => hero\r\n);","export default __webpack_public_path__ + \"static/media/creep.652cb964.png\";","export default __webpack_public_path__ + \"static/media/hero.2b8f2de0.png\";","export default function getRandomInt (min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n}","export const getChanceAttack = (evasion) => {\r\n  const attackChance = Math.random() * 100;\r\n  let chance;\r\n  if (attackChance >= evasion) {\r\n    chance = true\r\n  }\r\n  if (attackChance < evasion) {\r\n    chance = false\r\n  }\r\n  return chance\r\n}\r\n\r\nexport const getChanceMagic = (percents) => {\r\n  const attackChance = Math.random() * 100;\r\n  let chance = false;\r\n  if (attackChance <= percents) {\r\n    chance = true\r\n  } else {\r\n    chance = false\r\n  }\r\n  return chance;\r\n}","import React, { useState, useEffect } from 'react'\r\nimport creepImg from '../../assets/png/creep.png'\r\nimport heroImg from '../../assets/png/hero.png'\r\nimport './FightArea.scss'\r\nimport getRandomInt from '../../helpers/getRandomInt'\r\nimport { getChanceAttack, getChanceMagic } from '../../helpers/getChance'\r\n\r\nexport default function FightArea({ heroData, creepData, creepsCount }) {\r\n  const [hero, setHero] = useState({})\r\n  const [creeps, setCreeps] = useState({})\r\n  const [logs, setLogs] = useState([]) // [[heroDmg,creepDmg],...]\r\n  const [fightResult, setFightResult] = useState('')\r\n  const [clickCounter, setClickCounter] = useState(0)\r\n  const [heroHpBar, setHeroHpBar] = useState(100)\r\n  const [creepHpBar, setCreepHpBar] = useState(100)\r\n  const [loot, setLoot] = useState([])\r\n\r\n  useEffect(() => {\r\n    heroData && setHero(heroData)\r\n  }, [heroData])\r\n\r\n  //all creeps\r\n  useEffect(() => {\r\n    creepData && setCreeps({\r\n      name: creepData.name,\r\n      hp: creepData.hp * creepsCount,\r\n      dmg: {\r\n        min: creepData.dmg.min * creepsCount,\r\n        max: creepData.dmg.max * creepsCount\r\n      },\r\n      buff: creepData.buff,\r\n      evasion: creepData.evasion,\r\n      buffLoot: creepData.buffLoot,\r\n      loot: creepData.loot,\r\n      crit: {\r\n        chance: creepData.crit.chance,\r\n        dmg: creepData.crit.dmg\r\n      },\r\n      count: creepsCount\r\n    })\r\n\r\n  }, [creepData])\r\n\r\n  const prepareLootArr = () => {\r\n    const lootArr = creeps.loot.map(item => {\r\n      if (getChanceMagic(item.chance)) {\r\n        return item\r\n      } else {\r\n        return\r\n      }\r\n    })\r\n\r\n    return lootArr\r\n  }\r\n\r\n  const handleAttackCreep = () => {\r\n    if (fightResult) return\r\n\r\n    //evasion chance\r\n    const isAttackHero = getChanceAttack(creeps.evasion)\r\n    const isAttackCreeps = getChanceAttack(hero.buffHp.evasion)\r\n\r\n    let creepHpAfterAttack = creeps.hp;\r\n    let heroDefAfterAttack = hero.def;\r\n    // army Damage\r\n    let allHeroDmg, horsemenDmg, archersDmg, infantryDmg, mageDmg, humanDmg, elfDmg, gnomeDmg, valarDmg, morgoteDmg, critical, surprise;\r\n    //hero attack\r\n    if (isAttackHero) {\r\n      horsemenDmg = getRandomInt(hero.army.horsemen.minDmg * hero.army.horsemen.count, hero.army.horsemen.maxDmg * hero.army.horsemen.count)\r\n      archersDmg = getRandomInt(hero.army.archers.minDmg * hero.army.archers.count, hero.army.archers.maxDmg * hero.army.archers.count)\r\n      infantryDmg = getRandomInt(hero.army.infantry.minDmg * hero.army.infantry.count, hero.army.infantry.maxDmg * hero.army.infantry.count)\r\n\r\n      //magic\r\n      mageDmg = getChanceMagic(hero.heroMagic.mage.chance) ? hero.heroMagic.mage.dmg : 0\r\n      humanDmg = getChanceMagic(hero.heroMagic.human.chance) ? hero.heroMagic.human.dmg : 0\r\n      elfDmg = getChanceMagic(hero.heroMagic.elf.chance) ? hero.heroMagic.elf.dmg : 0\r\n      gnomeDmg = getChanceMagic(hero.heroMagic.gnome.chance) ? hero.heroMagic.gnome.dmg : 0\r\n      valarDmg = getChanceMagic(hero.heroMagic.valar.chance) ? hero.heroMagic.valar.dmg : 0\r\n      morgoteDmg = getChanceMagic(hero.heroMagic.morgote.chance) ? hero.heroMagic.morgote.dmg : 0\r\n\r\n      const magicDmg = mageDmg + humanDmg + elfDmg + gnomeDmg + valarDmg + morgoteDmg\r\n      allHeroDmg = horsemenDmg + archersDmg + infantryDmg + magicDmg\r\n\r\n      critical = getChanceMagic(hero.buffAttack.crit.chance)\r\n      if (critical) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.crit.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      surprise = getChanceMagic(hero.buffAttack.surprise.chance)\r\n      if (surprise) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.surprise.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      creepHpAfterAttack = creepHpAfterAttack - allHeroDmg\r\n\r\n\r\n      if (creepHpAfterAttack <= 0) {\r\n        setCreeps({ ...creeps, hp: 0 })\r\n        setCreepHpBar(0)\r\n        setLoot(prepareLootArr())\r\n      } else {\r\n        setCreeps({ ...creeps, hp: creepHpAfterAttack })\r\n        setCreepHpBar(parseInt((creepHpAfterAttack / creeps.hp) * 100))\r\n      }\r\n\r\n    } else {\r\n      allHeroDmg = 'Промах'\r\n    }\r\n\r\n\r\n    //creep attack\r\n    let creepDmg;\r\n    if (isAttackCreeps) {\r\n      creepDmg = creepHpAfterAttack > 0 ? getRandomInt(creeps.dmg.min, creeps.dmg.max) : 0  /// if draw(ничья) dmg = 0\r\n      heroDefAfterAttack = hero.def - creepDmg\r\n\r\n      if (heroDefAfterAttack <= 0) {\r\n        setHeroHpBar(0)\r\n        setHero({ ...hero, def: 0 })\r\n      } else if(creepDmg === 0) {\r\n        setHero({ ...hero, def: heroDefAfterAttack })\r\n      } \r\n      else {\r\n        setHero({ ...hero, def: heroDefAfterAttack })\r\n        setHeroHpBar(parseInt((heroDefAfterAttack / hero.def) * 100))\r\n      }\r\n\r\n    } else {\r\n      creepDmg = 'Промах'\r\n    }\r\n\r\n\r\n    setLogs([...logs, { allHeroDmg: allHeroDmg, horsemenDmg: horsemenDmg, archersDmg: archersDmg, infantryDmg: infantryDmg, creepDmg: creepDmg, mageDmg: mageDmg, humanDmg: humanDmg, elfDmg: elfDmg, gnomeDmg: gnomeDmg, valarDmg: valarDmg, morgoteDmg: morgoteDmg, critical: critical, surprise: surprise }])\r\n\r\n    if (creepHpAfterAttack <= 0) setFightResult('Победа')\r\n    if (heroDefAfterAttack <= 0) setFightResult('Поражение')\r\n    if (heroDefAfterAttack <= 0 && creepHpAfterAttack <= 0) setFightResult('Ничья')\r\n  }\r\n\r\n  return (\r\n    <div className='fightArea'>\r\n      <h2 className='fightArea__title'>Поле сражения</h2>\r\n      {fightResult &&\r\n        <h3 className={`fightArea__fightResult ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`}>{fightResult}</h3>\r\n      }\r\n      {fightResult &&\r\n        <button className={`fightArea__fightResult fightArea__btnReset ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`} onClick={() => window.location.reload()}>Начать новый бой</button>\r\n      }\r\n      <div className=\"fightArea__fight\">\r\n        {hero &&\r\n          <div className=\"fightArea__hero fightArea__item\">\r\n            <div className='fightArea__itemTitle'>\r\n              Оборона:{hero.def}\r\n              <div className=\"fightArea__hitBar fightArea__hitBar--hero\" style={{ 'width': heroHpBar + '%' }}></div>\r\n            </div>\r\n            <img src={heroImg} alt=\"hero\" />\r\n          </div>\r\n        }\r\n\r\n        <div className=\"fightArea__btnContainer\">\r\n          <span className='fightArea__vs'>VS</span>\r\n          <button className='fightArea__btnAttack' onClick={() => handleAttackCreep()}>Атака</button>\r\n        </div>\r\n\r\n        {creeps &&\r\n          <>\r\n            <div className=\"fightArea__creep fightArea__item\">\r\n              <div className=\"fightArea__infoContainer\">\r\n                <div className='fightArea__hpBar fightArea__itemTitle'>\r\n                  {creeps.name} Здоровье:{creeps.hp}\r\n                  <div className=\"fightArea__hitBar\" style={{ 'width': creepHpBar + '%' }}></div>\r\n                </div>\r\n                <img src={creepImg} alt=\"creep\" />\r\n              </div>\r\n              \r\n              {/* <div className='fightArea__infoContainer'>\r\n                <h3>Кол-во: {creeps.count}</h3>\r\n                <div>Усиление: {creeps.buff}</div>\r\n                <div>Уворот: {creeps.evasion}%</div>\r\n                {creeps.crit && <div>Шанс крита: {creeps.crit.chance}%</div>}\r\n                {creeps.crit && <div>Урон крита: {creeps.crit.dmg}%</div>}\r\n                <div>Увеличение добычи: 0%</div>\r\n                {creeps.dmg && <div>Атака: {creeps.dmg.min} - {creeps.dmg.max}</div>}\r\n                {creepData && <div>Здоровье: {creepData.hp * creepsCount}</div>}\r\n              </div> */}\r\n            </div>\r\n          </>\r\n        }\r\n      </div>\r\n      <div className=\"fightArea__logsContainer\">\r\n        <h3>Логи:</h3>\r\n        <div className=\"fightArea__logs\">\r\n          {\r\n            logs.map((log, index) => (\r\n              <p key={index}>\r\n                <span>\r\n                  Урон всего:\r\n                  {log.critical && <span>Критический урон</span>}\r\n                  {log.critical && log.surprise && <span>+</span>}\r\n                  {log.surprise && <span>Внезапный урон</span>}\r\n                  {log.allHeroDmg}\r\n                </span>\r\n                <span>Урон крипа: {log.creepDmg} </span>\r\n                {log.allHeroDmg > 0 &&\r\n                  <>\r\n                    <span>\r\n                      Урон всадников:{log.horsemenDmg} Урон лучников:{log.archersDmg} Урон пехоты:{log.infantryDmg}\r\n                    </span>\r\n                    {log.mageDmg > 0 && <span>Урон мага:{log.mageDmg}</span>}\r\n                    {log.humanDmg > 0 && <span>Урон человека:{log.humanDmg}</span>}\r\n                    {log.elfDmg > 0 && <span>Урон эльфа:{log.elfDmg}</span>}\r\n                    {log.gnomeDmg > 0 && <span>Урон гнома:{log.gnomeDmg}</span>}\r\n                    {log.valarDmg > 0 && <span>Воля валар:{log.valarDmg}</span>}\r\n                    {log.morgoteDmg > 0 && <span>Воля моргота:{log.morgoteDmg}</span>}\r\n                  </>\r\n                }\r\n\r\n              </p>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className=\"fightArea__logsContainer\">\r\n        <h2>Добыча:</h2>\r\n        <div className=\"fightArea__logs fightArea__loot\">\r\n          {\r\n            fightResult === 'Победа' &&\r\n            loot.map(item => (\r\n              <div>{item.itemName}</div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchCreep = createAsyncThunk('creep/fetchCreep', async (name) => {\r\n  const data = axios.get(`${config.serverUrl}/api/creeps/${name}`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getCreep = createSelector(\r\n  state => state.creep.data[0],\r\n  creep => creep\r\n);","import React from 'react'\r\nimport './NavPanel.scss'\r\n\r\nexport default function NavPanel() {\r\n  return (\r\n    <ul className='nav'>\r\n      <li className=\"nav__item nav__item--backpack\">\r\n        <span className=\"nav__text\">Сундук добычи</span>\r\n      </li>\r\n      <li className=\"nav__item nav__item--altar\">\r\n        <span className=\"nav__text\">Алтарь Эссенций</span></li>\r\n      <li className=\"nav__item  nav__item--forge\">\r\n        <span className=\"nav__text\">Кузница</span></li>\r\n      <li className=\"nav__item  nav__item--pvp\">\r\n        <span className=\"nav__text\">PVP звания и награды</span></li>\r\n      <li className=\"nav__item  nav__item--barracks\">\r\n        <span className=\"nav__text\">Казарма</span></li>\r\n      <li className=\"nav__item  nav__item--shop\">\r\n        <span className=\"nav__text\">Магазин</span></li>\r\n    </ul>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/woods.ed1e4efd.png\";","export default __webpack_public_path__ + \"static/media/woods2.936a0fe4.png\";","export default __webpack_public_path__ + \"static/media/wolf.21692f16.png\";","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const selectedCreepInLocation = createAction('CHANGE_SELECTED_CREEP_IN_LOCATION')","export default __webpack_public_path__ + \"static/media/witch.f7298021.png\";","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getSelectedCreep = createSelector(\r\n  state => state.location.selectedCreep,\r\n  creep => creep\r\n);","import React, { useState } from 'react'\r\nimport './Location.scss'\r\nimport woods from '../../assets/png/woods.png'\r\nimport woods2 from '../../assets/png/woods2.png'\r\nimport wolf from '../../assets/png/wolf.png'\r\nimport witch from '../../assets/png/witch.png'\r\nimport { useDispatch } from 'react-redux'\r\nimport { selectedCreepInLocation } from '../../redux/actions/locationAction'\r\nimport { getSelectedCreep } from '../../redux/selectors/locationSelector'\r\nimport { useSelector } from 'react-redux'\r\nimport getRandomInt from '../../helpers/getRandomInt'\r\n\r\nexport default function Location({ className,creepData }) {\r\n  const [activeItem, setActiveItem] = useState('Охота')\r\n  const [activeLvl, setActiveLvl] = useState('')\r\n  const [activeLocation, setActiveLocation] = useState('')\r\n  const selectedCreep = useSelector(getSelectedCreep)\r\n\r\n  const creepsCount = getRandomInt(1,9);\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const handleChangeActiveItem = (item) => {\r\n    setActiveItem(item)\r\n    setActiveLvl('')\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n  const handleChangeActiveLvl = (lvl) => {\r\n    setActiveLvl(lvl)\r\n    setActiveLocation('')\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n  return (\r\n    <div className={`location ${className}`}>\r\n      {/* Охота, поход, рейд, пвп */}\r\n      <ul className=\"location__nav\">\r\n        <li className={`location__navItem ${activeItem === 'Охота' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Охота\")}>\r\n          Охота\r\n        </li>\r\n        <li className={`location__navItem ${activeItem === 'Поход' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Поход\")}>\r\n          Поход\r\n        </li>\r\n        <li className={`location__navItem ${activeItem === 'Рейд' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Рейд\")}>\r\n          Рейд (с 3 уровня)\r\n        </li>\r\n        <li className={`location__navItem ${activeItem === 'ПВП' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"ПВП\")}>\r\n          ПВП(с 4 уровня)\r\n        </li>\r\n      </ul>\r\n\r\n      {/* слабый, обычный, средний... */}\r\n      {\r\n        activeItem === 'Охота' &&\r\n        <div className='location__difficultyLvls'>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Слабый')}>\r\n            <span>1-9</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Слабый' && 'location__difficultNumber--active'}`}>1</span>\r\n            <span>Слабый</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Обычный')}>\r\n            <span>10-99</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Обычный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#CBFFB9' }}>2</span>\r\n            <span>Обычный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Средний')}>\r\n            <span>100-999</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Средний' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#B2CDFF' }}>3</span>\r\n            <span>Средний</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Сильный')}>\r\n            <span>1к-9.99к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Сильный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#9584FF' }}>4</span>\r\n            <span>Сильный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Мощный')}>\r\n            <span>10к-99.9к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Мощный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#F68CFF' }}>5</span>\r\n            <span>Мощный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Великий')}>\r\n            <span>100к-999к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Великий' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#FF4F4F', color: '#fff' }}>6</span>\r\n            <span>Великий</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Эпический')}>\r\n            <span>1м-9.99м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Эпический' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#FF2929', color: '#fff' }}>7</span>\r\n            <span>Эпический</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Невероятный')}>\r\n            <span>10м-99.9м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Невероятный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#3F3F3F', color: '#fff' }}>8</span>\r\n            <span>Невероятный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Легендарный')}>\r\n            <span>100м-999м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Легендарный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#000', color: '#fff' }}>9</span>\r\n            <span>Легендарный</span>\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n\r\n      {/* Легкий лес1, легкий лес2 */}\r\n      {\r\n        activeLvl === 'Слабый' && !activeLocation &&\r\n        <div className='location__itemsContainer' >\r\n          <div className=\"location__item\" onClick={() => setActiveLocation('Сказочная поляна')}>\r\n            <img src={woods} alt=\"location\" className=\"location__itemImg\" />\r\n          </div>\r\n          <div className=\"location__item\" onClick={() => setActiveLocation('Лесная поляна')}>\r\n            <img src={woods2} alt=\"location\" className=\"location__itemImg\" />\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n      {/* крипы */}\r\n      {activeLocation &&\r\n        <div className='creeps'>\r\n          <div className='creeps__btns'>\r\n            <button type='button' onClick={() => setActiveLocation('')}>Назад</button>\r\n            <h3>{activeLocation}</h3>\r\n            <button type='button'>Обновить</button>\r\n          </div>\r\n          {\r\n            activeLocation === 'Сказочная поляна' &&\r\n            <div className='creeps__items'>\r\n              <div className=\"creeps__item\" onClick={() => dispatch(selectedCreepInLocation('Волк'))}>\r\n                <img src={wolf} alt=\"волк\" />\r\n              </div>\r\n              {/* <div className=\"creeps__item\" onClick={() => dispatch(selectedCreepInLocation('Ведьма'))}> Ведьма\r\n                <img src={witch} alt=\"ведьма\" />\r\n              </div> */}\r\n            </div>\r\n\r\n          }\r\n        </div>\r\n      }\r\n      {\r\n        selectedCreep &&\r\n        <div className='fightArea__infoContainer'>\r\n          <h3>Кол-во: {creepsCount}</h3>\r\n          <div>Усиление: {creepData.buff}</div>\r\n          <div>Уворот: {creepData.evasion}%</div>\r\n          {creepData.crit && <div>Шанс крита: {creepData.crit.chance}%</div>}\r\n          {creepData.crit && <div>Урон крита: {creepData.crit.dmg}%</div>}\r\n          <div>Увеличение добычи: 0%</div>\r\n          {creepData.dmg && <div>Атака: {creepData.dmg.min} - {creepData.dmg.max}</div>}\r\n          {creepData && <div>Здоровье: {creepData.hp * creepsCount}</div>}\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport HeroPanel from '../../components/HeroPanel/HeroPanel'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { fetchHero } from '../../redux/actions/heroAction'\r\nimport { getHero } from '../../redux/selectors/heroSelector'\r\nimport FightArea from '../../components/FightArea/FightArea'\r\nimport './Homepage.scss'\r\nimport { fetchCreep } from '../../redux/actions/creepAction'\r\nimport { getCreep } from '../../redux/selectors/creepSelector'\r\nimport NavPanel from '../../components/NavPanel/NavPanel'\r\nimport Location from '../../components/Location/Location'\r\nimport { getSelectedCreep } from '../../redux/selectors/locationSelector'\r\n\r\nexport default function Homepage() {\r\n  const adminLogin = 'admin'\r\n  const creepName = useSelector(getSelectedCreep)\r\n  const creepsCount = 3\r\n  const selectedCreepInLocation = useSelector(getSelectedCreep)\r\n\r\n  const dispatch = useDispatch()\r\n  const hero = useSelector(getHero)\r\n  const creep = useSelector(getCreep)\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchHero(adminLogin))\r\n    dispatch(fetchCreep(creepName))\r\n  }, [creepName])\r\n\r\n  return (\r\n    <div className='home'>\r\n      <div className=\"home__figthArea\">\r\n        <HeroPanel hero={hero} className='home__heroPanel'/>\r\n        <FightArea heroData={hero} creepData={creep} creepsCount={creepsCount} />\r\n        <Location className='home__location' creepData={creep}/>\r\n      </div>\r\n      <div className='home__nav'>\r\n        <NavPanel />\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route, Switch, BrowserRouter as Router } from \"react-router-dom\"\r\nimport Homepage from './pages/Homepage/Homepage'\r\n\r\nexport default function Routes() {\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/home\">\r\n          <Homepage />\r\n        </Route>\r\n        <Redirect to='/home'/>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchCreep } from '../actions/creepAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: null\r\n};\r\n\r\nconst creepReducer = createReducer(initialState, {\r\n  [fetchCreep.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchCreep.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchCreep.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload;\r\n  }\r\n});\r\n\r\nexport default creepReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchHero } from '../actions/heroAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: null\r\n};\r\n\r\nconst heroReducer = createReducer(initialState, {\r\n  [fetchHero.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchHero.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchHero.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload;\r\n  }\r\n});\r\n\r\nexport default heroReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { selectedCreepInLocation } from '../actions/locationAction'\r\n\r\nconst initialState = {\r\n  selectedCreep: ''\r\n};\r\n\r\nconst creepReducer = createReducer(initialState, {\r\n  [selectedCreepInLocation.type]: (state,action) => {\r\n    state.selectedCreep = action.payload;\r\n  },\r\n});\r\n\r\nexport default creepReducer","import { combineReducers } from '@reduxjs/toolkit'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport creepReducer from './reducers/creepReducer'\r\nimport heroReducer from './reducers/heroReducer'\r\nimport locationReducer from './reducers/locationReducer'\r\n\r\nexport default combineReducers({\r\n  hero: heroReducer,\r\n  creep: creepReducer,\r\n  location: locationReducer,\r\n  form: formReducer\r\n})","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'warofthenumenor'\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n  const [userId, setUserId] = useState(null)\r\n \r\n\r\n  const login = useCallback((jwtToken, id) => {\r\n    setToken(jwtToken)\r\n    setUserId(id)\r\n\r\n    window.localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken\r\n    }))\r\n  }, [])\r\n\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null)\r\n    setUserId(null)\r\n    window.localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(window.localStorage.getItem(storageName))\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId)\r\n    }\r\n    setReady(true)\r\n  }, [login])\r\n\r\n\r\n  return { login, logout, token, userId: userId, ready }\r\n}","import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop(),\r\n  logout: noop(),\r\n  isAuthenticated: false\r\n})","import './App.css';\nimport Routes from './Routes';\nimport createStore from './redux/createStore'\nimport { Provider } from 'react-redux'\nimport { useAuth } from './hooks/useAuth'\nimport { AuthContext } from './context/AuthContext';\n\nconst store = createStore();\n\nfunction App() {\n  const { token, login, logout, userId, ready } = useAuth();\n  const isAuthenticated = !!token\n\n  return (\n    <Provider store={store}>\n      <AuthContext.Provider value={{ token, login, logout, userId, ready, isAuthenticated }}>\n        <Routes />\n      </AuthContext.Provider>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport rootReducer from './rootReducer';\r\n\r\nexport default () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n    devTools: true,\r\n  })\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}