{"version":3,"sources":["components/HeroPanel/HeroPanel.js","redux/actions/heroAction.js","redux/selectors/heroSelector.js","assets/png/hero.png","helpers/getRandomInt.js","helpers/getChance.js","assets/png/none.png","components/FightArea/FightArea.js","redux/actions/creepAction.js","redux/selectors/creepSelector.js","components/NavPanel/NavPanel.js","assets/png/woods.png","redux/actions/locationAction.js","redux/selectors/locationSelector.js","components/Location/Location.js","pages/Homepage/Homepage.js","helpers/getCountByLvl.js","Routes.js","redux/reducers/creepReducer.js","redux/reducers/heroReducer.js","redux/reducers/locationReducer.js","redux/rootReducer.js","hooks/useAuth.js","context/AuthContext.js","App.js","redux/createStore.js","reportWebVitals.js","index.js"],"names":["HeroPanel","hero","className","armyCount","army","horsemen","count","archers","infantry","login","power","level","attack","minDmg","maxDmg","def","minionHp","heroMagic","mage","chance","dmg","human","elf","gnome","valar","morgote","buffAttack","crit","surprise","buffHp","armour","evasion","fetchHero","createAsyncThunk","a","data","axios","get","config","serverUrl","then","res","getHero","createSelector","state","getRandomInt","min","max","Math","ceil","floor","random","getChanceAttack","attackChance","getChanceMagic","percents","FightArea","heroData","creepData","creepsCount","useState","setHero","creeps","setCreeps","logs","setLogs","fightResult","setFightResult","heroHpBar","setHeroHpBar","creepHpBar","setCreepHpBar","loot","setLoot","useEffect","name","hp","buff","buffLoot","img","handleAttackCreep","allHeroDmg","horsemenDmg","archersDmg","infantryDmg","mageDmg","humanDmg","elfDmg","gnomeDmg","valarDmg","morgoteDmg","critical","creepDmg","isAttackHero","isAttackCreeps","creepHpAfterAttack","heroDefAfterAttack","parseInt","map","item","onClick","window","location","reload","style","src","heroImg","alt","disabled","noneImg","log","index","itemName","fetchCreep","getCreep","creep","NavPanel","selectLocationType","createAction","selectLocLvl","selectLocation","selectedCreepInLocation","fetchLocation","lvl","fetchCreepsInLocation","namesArr","post","getSelectedType","selectedType","type","getSelectedCreep","selectedCreep","getSelectedLvl","selectedLvl","getSelectedLoc","selectedLoc","loc","getCreeps","getDataLocations","locations","locs","Location","dispatch","useDispatch","activeItemType","useSelector","activeLvl","activeLocation","handleChangeActiveItem","handleChangeActiveLvl","handleChangeLocation","backgroundColor","color","woods","i","Homepage","getCountByLvl","Routes","path","to","creepReducer","createReducer","loading","error","pending","fulfilled","action","payload","rejected","heroReducer","combineReducers","locationReducer","form","formReducer","storageName","AuthContext","createContext","token","userId","noop","logout","isAuthenticated","store","configureStore","reducer","rootReducer","devTools","App","setToken","ready","setReady","setUserId","useCallback","jwtToken","id","localStorage","setItem","JSON","stringify","removeItem","parse","getItem","useAuth","Provider","value","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gXAEe,SAASA,EAAT,GAAwC,IAAnBC,EAAkB,EAAlBA,KAAKC,EAAa,EAAbA,UACjCC,EAAYF,GAAQA,EAAKG,KAAKC,SAASC,MAAQL,EAAKG,KAAKG,QAAQD,MAAQL,EAAKG,KAAKI,SAASF,MAElG,OACE,mCAEIL,GACA,sBAAKC,UAAS,oBAAeA,GAA7B,UACE,qBAAIA,UAAU,oBAAd,iCAAwCD,EAAKQ,SAC7C,sBAAKP,UAAU,uBAAf,UACE,0DAASD,EAAKS,SACd,4EAAYT,EAAKU,YAEnB,sBAAKT,UAAU,uBAAf,UACE,yFAAeD,EAAKW,OAAOC,OAA3B,MAAsCZ,EAAKW,OAAOE,UAClD,sEAAWb,EAAKc,UAElB,sBAAKb,UAAU,2CAAf,UACE,oBAAIA,UAAU,mBAAd,mDACA,kEAAYC,KACZ,iEAAuB,EAAZA,EAAX,MAAyC,EAAZA,KAC7B,mFAAcF,EAAKG,KAAKC,SAASW,YACjC,mFAAcf,EAAKG,KAAKC,SAASC,MAAjC,6BAA8CL,EAAKG,KAAKC,SAASQ,OAAjE,MAA4EZ,EAAKG,KAAKC,SAASS,OAA/F,sDAAkHb,EAAKG,KAAKC,SAASW,YACrI,6EAAaf,EAAKG,KAAKG,QAAQD,MAA/B,6BAA4CL,EAAKG,KAAKG,QAAQM,OAA9D,MAAyEZ,EAAKG,KAAKG,QAAQO,OAA3F,sDAA8Gb,EAAKG,KAAKG,QAAQS,YAChI,uEAAYf,EAAKG,KAAKI,SAASF,MAA/B,6BAA4CL,EAAKG,KAAKI,SAASK,OAA/D,MAA0EZ,EAAKG,KAAKI,SAASM,OAA7F,sDAAgHb,EAAKG,KAAKI,SAASQ,eAErI,sBAAKd,UAAU,4CAAf,UACE,oBAAIA,UAAU,mBAAd,4JACA,qDAASD,EAAKgB,UAAUC,KAAKC,OAA7B,8BAA4ClB,EAAKgB,UAAUC,KAAKE,OAChE,6EAAanB,EAAKgB,UAAUI,MAAMF,OAAlC,8BAAiDlB,EAAKgB,UAAUI,MAAMD,OACtE,2DAAUnB,EAAKgB,UAAUK,IAAIH,OAA7B,8BAA4ClB,EAAKgB,UAAUK,IAAIF,OAC/D,2DAAUnB,EAAKgB,UAAUM,MAAMJ,OAA/B,8BAA8ClB,EAAKgB,UAAUM,MAAMH,OACnE,0FAAgBnB,EAAKgB,UAAUO,MAAML,OAArC,8BAAoDlB,EAAKgB,UAAUO,MAAMJ,OACzE,sGAAkBnB,EAAKgB,UAAUQ,QAAQN,OAAzC,8BAAwDlB,EAAKgB,UAAUQ,QAAQL,UAEjF,sBAAKlB,UAAU,iDAAf,UACE,oBAAIA,UAAU,mBAAd,8FACA,oFAAeD,EAAKyB,WAAWC,KAAKR,OAApC,QACA,oFAAelB,EAAKyB,WAAWC,KAAKP,IAApC,OACA,8HAAsBnB,EAAKyB,WAAWE,SAAST,OAA/C,OACA,8HAAsBlB,EAAKyB,WAAWE,SAASR,IAA/C,UAEF,sBAAKlB,UAAU,6CAAf,UACE,oBAAIA,UAAU,mBAAd,gHACA,uEAAYD,EAAK4B,OAAOd,IAAxB,+CACA,iEAAWd,EAAK4B,OAAOC,OAAvB,8DACA,uEAAY7B,EAAK4B,OAAOE,QAAxB,e,oEC5CCC,EAAYC,YAAiB,iBAAD,uCAAmB,WAAOxB,GAAP,eAAAyB,EAAA,6DACpDC,EAAOC,IAAMC,IAAN,UAAaC,EAAOC,UAApB,uBAA4C9B,IAAS+B,MAChE,SAAAC,GAAG,OAAIA,EAAIN,QAF6C,kBAGnDA,GAHmD,2CAAnB,uD,QCF5BO,EAAUC,aACrB,SAAAC,GAAK,OAAIA,EAAM3C,KAAKkC,KAAK,MACzB,SAAAlC,GAAI,OAAIA,K,wBCJK,MAA0B,iC,OCA1B,SAAS4C,EAAcC,EAAKC,GAGzC,OAFAD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,IAAQA,ECH5C,IAAMM,EAAkB,SAACrB,GAC9B,IACIZ,EADEkC,EAA+B,IAAhBL,KAAKG,SAQ1B,OANIE,GAAgBtB,IAClBZ,GAAS,GAEPkC,EAAetB,IACjBZ,GAAS,GAEJA,GAGImC,EAAiB,SAACC,GAQ7B,OAPqC,IAAhBP,KAAKG,UAENI,GCfP,MAA0B,iCCQ1B,SAASC,EAAT,GAA0D,IAArCC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,YAAe,EAC9CC,mBAAS,IADqC,mBAC/D3D,EAD+D,KACzD4D,EADyD,OAE1CD,mBAAS,IAFiC,mBAE/DE,EAF+D,KAEvDC,EAFuD,OAG9CH,mBAAS,IAHqC,mBAG/DI,EAH+D,KAGzDC,EAHyD,OAIhCL,mBAAS,IAJuB,mBAI/DM,EAJ+D,KAIlDC,EAJkD,OAK9BP,mBAAS,GALqB,gCAMpCA,mBAAS,MAN2B,mBAM/DQ,EAN+D,KAMpDC,EANoD,OAOlCT,mBAAS,KAPyB,mBAO/DU,EAP+D,KAOnDC,EAPmD,OAQ9CX,mBAAS,IARqC,mBAQ/DY,EAR+D,KAQzDC,EARyD,KAUtEC,qBAAU,WACRjB,GAAYI,EAAQJ,KACnB,CAACA,IAGJiB,qBAAU,WACRhB,EAAUiB,MAAQZ,EAAU,CAC1BY,KAAMjB,EAAUiB,KAChBC,GAAIlB,EAAUkB,GAAKjB,EACnBvC,IAAK,CACH0B,IAAKY,EAAUtC,IAAI0B,IAAMa,EACzBZ,IAAKW,EAAUtC,IAAI2B,IAAMY,GAE3BkB,KAAMnB,EAAUmB,KAChB9C,QAAS2B,EAAU3B,QACnB+C,SAAUpB,EAAUoB,SACpBN,KAAMd,EAAUc,KAChB7C,KAAM,CACJR,OAAQuC,EAAU/B,KAAKR,OACvBC,IAAKsC,EAAU/B,KAAKP,KAEtB2D,IAAKrB,EAAUqB,IACfzE,MAAOqD,MAGR,CAACD,IAEJ,IAYMsB,EAAoB,WACxB,IAAId,EAAJ,CAGA,IAMIe,EAAYC,EAAaC,EAAYC,EAAaC,EAASC,EAAUC,EAAQC,EAAUC,EAAUC,EAAYC,EAAU/D,EA8CvHgE,EApDEC,EAAezC,EAAgBU,EAAO/B,SACtC+D,EAAiB1C,EAAgBnD,EAAK4B,OAAOE,SAE/CgE,EAAqBjC,EAAOc,GAC5BoB,EAAqB/F,EAAKc,IAI9B,GAAI8E,EAcFZ,GAbAC,EAAcrC,EAAa5C,EAAKG,KAAKC,SAASQ,OAASZ,EAAKG,KAAKC,SAASC,MAAOL,EAAKG,KAAKC,SAASS,OAASb,EAAKG,KAAKC,SAASC,SAChI6E,EAAatC,EAAa5C,EAAKG,KAAKG,QAAQM,OAASZ,EAAKG,KAAKG,QAAQD,MAAOL,EAAKG,KAAKG,QAAQO,OAASb,EAAKG,KAAKG,QAAQD,SAC3H8E,EAAcvC,EAAa5C,EAAKG,KAAKI,SAASK,OAASZ,EAAKG,KAAKI,SAASF,MAAOL,EAAKG,KAAKI,SAASM,OAASb,EAAKG,KAAKI,SAASF,UAGhI+E,EAAU/B,EAAerD,EAAKgB,UAAUC,KAAKC,QAAUlB,EAAKgB,UAAUC,KAAKE,IAAM,IACjFkE,EAAWhC,EAAerD,EAAKgB,UAAUI,MAAMF,QAAUlB,EAAKgB,UAAUI,MAAMD,IAAM,IACpFmE,EAASjC,EAAerD,EAAKgB,UAAUK,IAAIH,QAAUlB,EAAKgB,UAAUK,IAAIF,IAAM,IAC9EoE,EAAWlC,EAAerD,EAAKgB,UAAUM,MAAMJ,QAAUlB,EAAKgB,UAAUM,MAAMH,IAAM,IACpFqE,EAAWnC,EAAerD,EAAKgB,UAAUO,MAAML,QAAUlB,EAAKgB,UAAUO,MAAMJ,IAAM,IACpFsE,EAAapC,EAAerD,EAAKgB,UAAUQ,QAAQN,QAAUlB,EAAKgB,UAAUQ,QAAQL,IAAM,KAK1FuE,EAAWrC,EAAerD,EAAKyB,WAAWC,KAAKR,WAE7C8D,EAAagB,SAAUhB,EAAahF,EAAKyB,WAAWC,KAAKP,IAAO,IAAM6D,KAGxErD,EAAW0B,EAAerD,EAAKyB,WAAWE,SAAST,WAEjD8D,EAAagB,SAAUhB,EAAahF,EAAKyB,WAAWE,SAASR,IAAO,IAAM6D,KAG5Ec,GAA0Cd,IAGhB,GACxBlB,EAAU,2BAAKD,GAAN,IAAcc,GAAI,KAC3BL,EAAc,GACdE,EAvDYX,EAAOU,KAAK0B,KAAI,SAAAC,GAC9B,OAAI7C,EAAe6C,EAAKhF,QACfgF,OAEP,QAqDApC,EAAU,2BAAKD,GAAN,IAAcc,GAAImB,KAC3BxB,EAAc0B,SAAUF,EAAqBjC,EAAOc,GAAM,YAI5DK,EAAa,uCAMXa,GACFF,EAAWG,EAAqB,EAAIlD,EAAaiB,EAAO1C,IAAI0B,IAAKgB,EAAO1C,IAAI2B,KAAO,GACnFiD,EAAqB/F,EAAKc,IAAM6E,IAEN,GACxBvB,EAAa,GACbR,EAAQ,2BAAK5D,GAAN,IAAYc,IAAK,MACF,IAAb6E,EACT/B,EAAQ,2BAAK5D,GAAN,IAAYc,IAAKiF,MAGxBnC,EAAQ,2BAAK5D,GAAN,IAAYc,IAAKiF,KACxB3B,EAAa4B,SAAUD,EAAqB/F,EAAKc,IAAO,QAI1D6E,EAAW,uCAIb3B,EAAQ,GAAD,mBAAKD,GAAL,CAAW,CAAEiB,WAAYA,EAAYC,YAAaA,EAAaC,WAAYA,EAAYC,YAAaA,EAAaQ,SAAUA,EAAUP,QAASA,EAASC,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAAUC,SAAUA,EAAUC,WAAYA,EAAYC,SAAUA,EAAU/D,SAAUA,MAE5RmE,GAAsB,GAAG5B,EAAe,wCACxC6B,GAAsB,GAAG7B,EAAe,0DACxC6B,GAAsB,GAAKD,GAAsB,GAAG5B,EAAe,oCAGzE,OACE,sBAAKjE,UAAU,YAAf,UACE,oBAAIA,UAAU,mBAAd,uFACCgE,GACC,oBAAIhE,UAAS,iCAA4C,2DAAhBgE,GAA+B,kCAAxE,SAA6GA,IAE9GA,GACC,wBAAQhE,UAAS,qDAAgE,2DAAhBgE,GAA+B,kCAAoCkC,QAAS,kBAAMC,OAAOC,SAASC,UAAnK,oGAEF,sBAAKrG,UAAU,mBAAf,UACGD,GACC,sBAAKC,UAAU,kCAAf,UACE,sBAAKA,UAAU,uBAAf,wDACWD,EAAKc,IACd,qBAAKb,UAAU,4CAA4CsG,MAAO,CAAE,MAASpC,EAAY,UAE3F,qBAAKqC,IAAKC,EAASC,IAAI,YAI3B,sBAAKzG,UAAU,0BAAf,UACE,sBAAMA,UAAU,gBAAhB,gBACA,wBAAQA,UAAU,uBAAuBkG,QAAS,kBAAMpB,KAAqB4B,UAAWlD,EAAUiB,KAAlG,+CAGDjB,EAAUiB,MACT,mCACE,sBAAKzE,UAAU,mCAAf,UACE,sBAAKA,UAAU,wCAAf,UACG4D,EAAOa,KADV,qDAC0Bb,EAAOc,GAC/B,qBAAK1E,UAAU,oBAAoBsG,MAAO,CAAE,MAASlC,EAAa,UAEpE,qBAAKpE,UAAU,sBAAsBuG,IAAG,UAAKnE,EAAOC,UAAZ,uBAAoCuB,EAAOiB,KAAO4B,IAAK7C,EAAOa,aAI1GjB,EAAUiB,MACV,mCACE,sBAAKzE,UAAU,mCAAf,UACE,sBAAKA,UAAU,wCAAf,kLAEE,qBAAKA,UAAU,oBAAoBsG,MAAO,CAAE,MAASlC,EAAa,UAEpE,qBAAKpE,UAAU,sBAAsBuG,IAAKI,EAASF,IAAI,qCAK/D,sBAAKzG,UAAU,2BAAf,UACE,2DACA,qBAAKA,UAAU,kBAAf,SAEI8D,EAAKkC,KAAI,SAACY,EAAKC,GAAN,OACP,8BACE,4FAEGD,EAAInB,UAAY,+HAChBmB,EAAInB,UAAYmB,EAAIlF,UAAY,qCAChCkF,EAAIlF,UAAY,mHAChBkF,EAAI7B,cAEP,6FAAmB6B,EAAIlB,SAAvB,OACCkB,EAAI7B,WAAa,GAChB,qCACE,oHACkB6B,EAAI5B,YADtB,8EACkD4B,EAAI3B,WADtD,kEAC+E2B,EAAI1B,eAElF0B,EAAIzB,QAAU,GAAK,sFAAiByB,EAAIzB,WACxCyB,EAAIxB,SAAW,GAAK,8GAAqBwB,EAAIxB,YAC7CwB,EAAIvB,OAAS,GAAK,4FAAkBuB,EAAIvB,UACxCuB,EAAItB,SAAW,GAAK,4FAAkBsB,EAAItB,YAC1CsB,EAAIrB,SAAW,GAAK,4FAAkBqB,EAAIrB,YAC1CqB,EAAIpB,WAAa,GAAK,wGAAoBoB,EAAIpB,mBAnB7CqB,WA4BhB,sBAAK7G,UAAU,2BAAf,UACE,uEACA,qBAAKA,UAAU,kCAAf,SAEoB,yCAAhBgE,GACAM,EAAK0B,KAAI,SAAAC,GAAI,OACX,8BAAMA,EAAKa,sB,WChOZC,EAAahF,YAAiB,mBAAD,uCAAqB,WAAO0C,GAAP,eAAAzC,EAAA,6DACvDC,EAAOC,IAAMC,IAAN,UAAaC,EAAOC,UAApB,4BAAiDoC,IAAQnC,MACpE,SAAAC,GAAG,OAAIA,EAAIN,QAFgD,kBAGtDA,GAHsD,2CAArB,uDCF7B+E,EAAWvE,aACtB,SAAAC,GAAK,OAAIA,EAAMuE,MAAMhF,QACrB,SAAAgF,GAAK,OAAIA,K,OCDI,SAASC,IACtB,OACE,qBAAIlH,UAAU,MAAd,UACE,oBAAIA,UAAU,gCAAd,SACE,sBAAMA,UAAU,YAAhB,yFAEF,oBAAIA,UAAU,6BAAd,SACE,sBAAMA,UAAU,YAAhB,qGACF,oBAAIA,UAAU,8BAAd,SACE,sBAAMA,UAAU,YAAhB,0DACF,oBAAIA,UAAU,4BAAd,SACE,sBAAMA,UAAU,YAAhB,0GACF,oBAAIA,UAAU,iCAAd,SACE,sBAAMA,UAAU,YAAhB,0DACF,oBAAIA,UAAU,6BAAd,SACE,sBAAMA,UAAU,YAAhB,6D,WClBO,MAA0B,kCCI5BmH,EAAqBC,YAAa,wBAElCC,EAAeD,YAAa,gCAE5BE,EAAiBF,YAAa,4BAE9BG,EAA0BH,YAAa,qCAEvCI,EAAgBzF,YAAiB,oBAAD,uCAAsB,WAAO0F,GAAP,eAAAzF,EAAA,6DAC3DC,EAAOC,IAAMC,IAAN,UAAaC,EAAOC,UAApB,6BAAkDoF,IAAOnF,MACpE,SAAAC,GAAG,OAAIA,EAAIN,QAFoD,kBAG1DA,GAH0D,2CAAtB,uDAMhCyF,EAAwB3F,YAAiB,uBAAD,uCAAyB,WAAO4F,GAAP,eAAA3F,EAAA,6DACtEC,EAAOC,IAAM0F,KAAN,UAAcxF,EAAOC,UAArB,8BAA2DsF,GAAUrF,MAChF,SAAAC,GAAG,OAAIA,EAAIN,QAF+D,kBAGrEA,GAHqE,2CAAzB,uDCXxC4F,GALqBpF,aAChC,SAAAC,GAAK,OAAIA,EAAM0D,YACf,SAAAA,GAAQ,OAAIA,KAGiB3D,aAC7B,SAAAC,GAAK,OAAIA,EAAM0D,SAAS0B,gBACxB,SAAAC,GAAI,OAAIA,MAGGC,EAAmBvF,aAC9B,SAAAC,GAAK,OAAIA,EAAM0D,SAAS6B,iBACxB,SAAAhB,GAAK,OAAIA,KAGEiB,EAAiBzF,aAC5B,SAAAC,GAAK,OAAIA,EAAM0D,SAAS+B,eACxB,SAAAV,GAAG,OAAIA,KAGIW,EAAiB3F,aAC5B,SAAAC,GAAK,OAAIA,EAAM0D,SAASiC,eACxB,SAAAC,GAAG,OAAIA,KAGIC,EAAY9F,aACvB,SAAAC,GAAK,OAAIA,EAAM0D,SAASxC,OAAO3B,QAC/B,SAAA2B,GAAM,OAAIA,KAGC4E,EAAmB/F,aAC9B,SAAAC,GAAK,OAAIA,EAAM0D,SAASqC,UAAUxG,QAClC,SAAAyG,GAAI,OAAIA,KCxBK,SAASC,EAAT,GAAwD,IAApC3I,EAAmC,EAAnCA,UAAUwD,EAAyB,EAAzBA,UAAUC,EAAe,EAAfA,YAC/CmF,EAAWC,cACXC,EAAiBC,YAAYlB,GAC7BmB,EAAYD,YAAYb,GACxBe,EAAiBF,YAAYX,GAC7BxE,EAASmF,YAAYR,GAErBE,EAAYM,YAAYP,GAExBU,EAAyB,SAACjD,GAC9B2C,EAASzB,EAAmBlB,IAC5B2C,EAASvB,EAAa,KACtBuB,EAASrB,EAAwB,MAG7B4B,EAAwB,SAAC1B,GAC7BmB,EAASpB,EAAcC,IACvBmB,EAASvB,EAAaI,IACtBmB,EAAStB,EAAe,KACxBsB,EAASrB,EAAwB,MAG7B6B,EAAuB,SAAChD,GAC5BwC,EAAStB,EAAelB,EAAS3B,OACjCmE,EAASlB,EAAsBtB,EAASxC,UAI1C,OACE,sBAAK5D,UAAS,mBAAcA,GAA5B,UAEE,qBAAIA,UAAU,gBAAd,UACE,oBAAIA,UAAS,4BAA0C,mCAAnB8I,GAA8B,6BAA+B5C,QAAS,kBAAMgD,EAAuB,mCAAvI,4CAGA,oBAAIlJ,UAAS,4BAA0C,mCAAnB8I,GAA8B,6BAA+B5C,QAAS,kBAAMgD,EAAuB,mCAAvI,4CAGA,oBAAIlJ,UAAS,4BAA0C,6BAAnB8I,GAA6B,6BAA+B5C,QAAS,kBAAMgD,EAAuB,6BAAtI,sFAGA,oBAAIlJ,UAAS,4BAA0C,uBAAnB8I,GAA4B,6BAA+B5C,QAAS,kBAAMgD,EAAuB,uBAArI,kFAOmB,mCAAnBJ,GACA,sBAAK9I,UAAU,2BAAf,UACE,sBAAKA,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,yCAA/E,UACE,uCACA,sBAAMnJ,UAAS,oCAA6C,yCAAdgJ,GAA0B,qCAAxE,eACA,2EAEF,sBAAKhJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,+CAA/E,UACE,yCACA,sBAAMnJ,UAAS,oCAA6C,+CAAdgJ,GAA2B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,WAA1I,eACA,iFAEF,sBAAKrJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,+CAA/E,UACE,2CACA,sBAAMnJ,UAAS,oCAA6C,+CAAdgJ,GAA2B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,WAA1I,eACA,iFAEF,sBAAKrJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,+CAA/E,UACE,sDACA,sBAAMnJ,UAAS,oCAA6C,+CAAdgJ,GAA2B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,WAA1I,eACA,iFAEF,sBAAKrJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,yCAA/E,UACE,uDACA,sBAAMnJ,UAAS,oCAA6C,yCAAdgJ,GAA0B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,WAAzI,eACA,2EAEF,sBAAKrJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,+CAA/E,UACE,uDACA,sBAAMnJ,UAAS,oCAA6C,+CAAdgJ,GAA2B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,UAAWC,MAAO,QAA5J,eACA,iFAEF,sBAAKtJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,2DAA/E,UACE,sDACA,sBAAMnJ,UAAS,oCAA6C,2DAAdgJ,GAA6B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,UAAWC,MAAO,QAA9J,eACA,6FAEF,sBAAKtJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,uEAA/E,UACE,uDACA,sBAAMnJ,UAAS,oCAA6C,uEAAdgJ,GAA+B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,UAAWC,MAAO,QAAhK,eACA,yGAEF,sBAAKtJ,UAAU,2BAA2BkG,QAAS,kBAAMiD,EAAsB,uEAA/E,UACE,uDACA,sBAAMnJ,UAAS,oCAA6C,uEAAdgJ,GAA+B,qCAAuC1C,MAAO,CAAE+C,gBAAiB,OAAQC,MAAO,QAA7J,eACA,4GAOJN,IAAcC,GACd,qBAAKjJ,UAAU,2BAAf,SACGyI,EAAUzC,KAAI,SAAAsC,GAAG,OAChB,qBAAKtI,UAAU,iBAAiBkG,QAAS,kBAAMkD,EAAqBd,IAApE,SACE,qBAAK/B,IAAKgD,EAAO9C,IAAI,WAAWzG,UAAU,6BAOjDiJ,GACC,sBAAKjJ,UAAU,SAAf,UACE,sBAAKA,UAAU,eAAf,UACE,wBAAQ+H,KAAK,SAAS7B,QAAS,kBAAMkD,EAAqB,KAA1D,4CACA,6BAAKH,IACL,wBAAQlB,KAAK,SAAb,iEAEF,qBAAK/H,UAAU,gBAAf,SAEI4D,EAAOoC,KAAI,SAACiB,EAAMuC,GAAP,OACT,qBAAaxJ,UAAU,eAAekG,QAAS,kBAAM0C,EAASrB,EAAwBN,EAAMxC,QAA5F,SACE,qBAAKzE,UAAU,cAAcuG,IAAG,UAAKnE,EAAOC,UAAZ,uBAAoC4E,EAAMpC,KAAO4B,IAAKQ,EAAMxC,QADpF+E,WAUlBhG,EAAUiB,MACV,sBAAKzE,UAAU,2BAAf,UACE,mEAAayD,KACb,qFAAgBD,EAAUmB,QAC1B,yEAAcnB,EAAU3B,QAAxB,OACC2B,EAAU/B,MAAQ,4FAAkB+B,EAAU/B,KAAKR,OAAjC,OAClBuC,EAAU/B,MAAQ,4FAAkB+B,EAAU/B,KAAKP,IAAjC,OACnB,wIACCsC,EAAUtC,KAAO,mEAAasC,EAAUtC,IAAI0B,IAAMa,EAAjC,MAAiDD,EAAUtC,IAAI2B,IAAMY,KACtFD,GAAa,qFAAgBA,EAAUkB,GAAKjB,WCxIxC,SAASgG,IACtB,IACMhG,ECdO,SAAwBgE,GACrC,GAAW,yCAARA,EAAkB,OAAO9E,EAAa,EAAE,GDavB+G,CAAc,wCAC5BnC,EAA0BwB,YAAYf,GAEtCY,EAAWC,cACX9I,EAAOgJ,YAAYvG,GACnByE,EAAQ8B,YAAY/B,GAQ1B,OALAxC,qBAAU,WACRoE,EAAS9G,EAVQ,UAWjB8G,EAAS7B,EAAWQ,MACnB,CAACA,IAGF,sBAAKvH,UAAU,OAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,cAAC,EAAD,CAAWD,KAAMA,EAAMC,UAAU,oBACjC,cAAC,EAAD,CAAWuD,SAAUxD,EAAMyD,UAAWyD,EAAOxD,YAAaA,IAC1D,cAAC,EAAD,CAAUzD,UAAU,iBAAiBwD,UAAWyD,EAAOxD,YAAaA,OAEtE,qBAAKzD,UAAU,YAAf,SACE,cAAC,EAAD,SEjCO,SAAS2J,IAEtB,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,QAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAUC,GAAG,e,oCCYNC,GAfMC,YANA,CACnBC,SAAS,EACT/H,KAAM,GACNgI,MAAO,OAGyB,oBAC/BlD,EAAWmD,SAAU,SAACxH,GACrBA,EAAMsH,SAAU,EAChBtH,EAAMuH,MAAQ,QAHgB,eAK/BlD,EAAWoD,WAAY,SAACzH,EAAO0H,GAC9B1H,EAAMT,KAAOmI,EAAOC,QACpB3H,EAAMsH,SAAU,KAPc,eAS/BjD,EAAWuD,UAAW,SAAC5H,EAAO0H,GAC7B1H,EAAMsH,SAAU,EAChBtH,EAAMuH,MAAQG,EAAOC,WAXS,ICenBE,GAfKR,YANC,CACnBC,SAAS,EACT/H,KAAM,GACNgI,MAAO,OAGwB,kBAAC,EAC/BnI,EAAUoI,SAAU,SAACxH,GACpBA,EAAMsH,SAAU,EAChBtH,EAAMuH,MAAQ,QAHe,aAAC,EAK/BnI,EAAUqI,WAAY,SAACzH,EAAO0H,GAC7B1H,EAAMT,KAAOmI,EAAOC,QACpB3H,EAAMsH,SAAU,KAPa,aAAC,EAS/BlI,EAAUwI,UAAW,SAAC5H,EAAO0H,GAC5B1H,EAAMsH,SAAU,EAChBtH,EAAMuH,MAAQG,EAAOC,WAXQ,ICkDlBP,GAvCMC,YAjBA,CACnBjC,aAAc,iCACdK,YAAa,KACbE,YAAa,GACbJ,cAAe,GACfQ,UAAW,CACTuB,SAAS,EACTC,MAAO,KACPhI,KAAM,IAER2B,OAAQ,CACNoG,SAAS,EACTC,MAAO,KACPhI,KAAM,MAIwB,kBAAC,EAChCkF,EAAmBY,MAAO,SAACrF,EAAO0H,GACjC1H,EAAMoF,aAAesC,EAAOC,WAFE,aAAC,EAIhChD,EAAaU,MAAO,SAACrF,EAAO0H,GAC3B1H,EAAMyF,YAAciC,EAAOC,WALG,aAAC,EAOhC/C,EAAeS,MAAO,SAACrF,EAAO0H,GAC7B1H,EAAM2F,YAAc+B,EAAOC,WARG,aAAC,EAUhC9C,EAAwBQ,MAAO,SAACrF,EAAO0H,GACtC1H,EAAMuF,cAAgBmC,EAAOC,WAXC,aAAC,EAahC7C,EAAc0C,SAAU,SAACxH,GACxBA,EAAM+F,UAAUuB,SAAU,EAC1BtH,EAAM+F,UAAUwB,MAAQ,QAfM,aAAC,EAiBhCzC,EAAc2C,WAAY,SAACzH,EAAO0H,GACjC1H,EAAM+F,UAAUxG,KAAOmI,EAAOC,QAC9B3H,EAAM+F,UAAUuB,SAAU,KAnBI,aAAC,EAqBhCxC,EAAc8C,UAAW,SAAC5H,EAAO0H,GAChC1H,EAAM+F,UAAUuB,SAAU,EAC1BtH,EAAM+F,UAAUwB,MAAQG,EAAOC,WAvBD,aAAC,EAyBhC3C,EAAsBwC,SAAU,SAACxH,GAChCA,EAAMkB,OAAOoG,SAAU,EACvBtH,EAAMkB,OAAOqG,MAAQ,QA3BS,aAAC,EA6BhCvC,EAAsByC,WAAY,SAACzH,EAAO0H,GACzC1H,EAAMkB,OAAO3B,KAAOmI,EAAOC,QAC3B3H,EAAMkB,OAAOoG,SAAU,KA/BO,aAAC,EAiChCtC,EAAsB4C,UAAW,SAAC5H,EAAO0H,GACxC1H,EAAMkB,OAAOoG,SAAU,EACvBtH,EAAMkB,OAAOqG,MAAQG,EAAOC,WAnCE,ICdnBG,eAAgB,CAC7BzK,KAAMwK,GACNtD,MAAO6C,GACP1D,SAAUqE,GACVC,KAAMC,OCRFC,GAAc,kBCEb,IAAMC,GAAcC,wBAAc,CACvCC,MAAO,KACPC,OAAQ,KACRzK,WAAO0K,EACPC,YAAQD,EACRE,iBAAiB,ICFbC,GCHGC,YAAe,CACpBC,QAASC,GACTC,UAAU,IDgBCC,OAbf,WAAgB,IAAD,EFLQ,WAAO,IAAD,EACD/H,mBAAS,MADR,mBACpBqH,EADoB,KACbW,EADa,OAEDhI,oBAAS,GAFR,mBAEpBiI,EAFoB,KAEbC,EAFa,OAGClI,mBAAS,MAHV,mBAGpBsH,EAHoB,KAGZa,EAHY,KAMrBtL,EAAQuL,uBAAY,SAACC,EAAUC,GACnCN,EAASK,GACTF,EAAUG,GAEV7F,OAAO8F,aAAaC,QAAQtB,GAAauB,KAAKC,UAAU,CACtDpB,OAAQgB,EAAIjB,MAAOgB,OAEpB,IAGGb,EAASY,uBAAY,WACzBJ,EAAS,MACTG,EAAU,MACV1F,OAAO8F,aAAaI,WAAWzB,MAC9B,IAYH,OAVApG,qBAAU,WACR,IAAMvC,EAAOkK,KAAKG,MAAMnG,OAAO8F,aAAaM,QAAQ3B,KAEhD3I,GAAQA,EAAK8I,OACfxK,EAAM0B,EAAK8I,MAAO9I,EAAK+I,QAEzBY,GAAS,KACR,CAACrL,IAGG,CAAEA,QAAO2K,SAAQH,QAAOC,OAAQA,EAAQW,SE1BCa,GAAxCzB,EADK,EACLA,MAAOxK,EADF,EACEA,MAAO2K,EADT,EACSA,OAAQF,EADjB,EACiBA,OAAQW,EADzB,EACyBA,MAChCR,IAAoBJ,EAE1B,OACE,cAAC,IAAD,CAAUK,MAAOA,GAAjB,SACE,cAACP,GAAY4B,SAAb,CAAsBC,MAAO,CAAE3B,QAAOxK,QAAO2K,SAAQF,SAAQW,QAAOR,mBAApE,SACE,cAACxB,EAAD,SEJOgD,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvK,MAAK,YAAkD,IAA/CwK,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.ada9c46b.chunk.js","sourcesContent":["import React from 'react'\r\nimport './HeroPanel.scss'\r\nexport default function HeroPanel({ hero,className }) {\r\n  const armyCount = hero && hero.army.horsemen.count + hero.army.archers.count + hero.army.infantry.count\r\n\r\n  return (\r\n    <>\r\n      {\r\n        hero &&\r\n        <div className={`heroPanel ${className}`}>\r\n          <h2 className='heroPanel__heroes'>Имя: {hero.login}</h2>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Мощь:{hero.power}</p>\r\n            <p>Уровень:{hero.level}</p>\r\n          </div>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Урон армии:{hero.attack.minDmg} - {hero.attack.maxDmg}</p>\r\n            <p>Защита:{hero.def}</p>\r\n          </div>\r\n          <div className=\"heroPanel__army heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Войско:</h3>\r\n            <p>Кол-во: {armyCount}</p>\r\n            <p>Атака: {armyCount * 1} - {armyCount * 3}</p>\r\n            <p>Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Всадники: {hero.army.horsemen.count} Урон:{hero.army.horsemen.minDmg} - {hero.army.horsemen.maxDmg} Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Лучники: {hero.army.archers.count} Урон:{hero.army.archers.minDmg} - {hero.army.archers.maxDmg} Здоровье: {hero.army.archers.minionHp}</p>\r\n            <p>Пехота: {hero.army.infantry.count} Урон:{hero.army.infantry.minDmg} - {hero.army.infantry.maxDmg} Здоровье: {hero.army.infantry.minionHp}</p>\r\n          </div>\r\n          <div className=\"heroPanel__magic heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Магия и способности героев:</h3>\r\n            <p>Маг: {hero.heroMagic.mage.chance}% урон {hero.heroMagic.mage.dmg}</p>\r\n            <p>Человек: {hero.heroMagic.human.chance}% урон {hero.heroMagic.human.dmg}</p>\r\n            <p>Эльф: {hero.heroMagic.elf.chance}% урон {hero.heroMagic.elf.dmg}</p>\r\n            <p>Гном: {hero.heroMagic.gnome.chance}% урон {hero.heroMagic.gnome.dmg}</p>\r\n            <p>Воля Валар: {hero.heroMagic.valar.chance}% урон {hero.heroMagic.valar.dmg}</p>\r\n            <p>Воля Моргота: {hero.heroMagic.morgote.chance}% урон {hero.heroMagic.morgote.dmg}</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffAttack heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление атаки:</h3>\r\n            <p>Крит шанс: {hero.buffAttack.crit.chance}% </p>\r\n            <p>Крит урон: {hero.buffAttack.crit.dmg}%</p>\r\n            <p>Шанс внезапности: {hero.buffAttack.surprise.chance}%</p>\r\n            <p>Урон внезапности: {hero.buffAttack.surprise.dmg}%</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffHp heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление здоровья:</h3>\r\n            <p>Защита: {hero.buffHp.def}% ув. здор.</p>\r\n            <p>Броня: {hero.buffHp.armour}% к (здор.+защ.)</p>\r\n            <p>Уворот: {hero.buffHp.evasion}%</p>\r\n          </div>\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchHero = createAsyncThunk('hero/fetchHero', async (login) => {\r\n  const data = axios.get(`${config.serverUrl}/api/heroes/${login}`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getHero = createSelector(\r\n  state => state.hero.data[0],\r\n  hero => hero\r\n);","export default __webpack_public_path__ + \"static/media/hero.2b8f2de0.png\";","export default function getRandomInt (min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n}","export const getChanceAttack = (evasion) => {\r\n  const attackChance = Math.random() * 100;\r\n  let chance;\r\n  if (attackChance >= evasion) {\r\n    chance = true\r\n  }\r\n  if (attackChance < evasion) {\r\n    chance = false\r\n  }\r\n  return chance\r\n}\r\n\r\nexport const getChanceMagic = (percents) => {\r\n  const attackChance = Math.random() * 100;\r\n  let chance = false;\r\n  if (attackChance <= percents) {\r\n    chance = true\r\n  } else {\r\n    chance = false\r\n  }\r\n  return chance;\r\n}","export default __webpack_public_path__ + \"static/media/none.ab09c996.png\";","import React, { useState, useEffect } from 'react'\r\nimport heroImg from '../../assets/png/hero.png'\r\nimport './FightArea.scss'\r\nimport getRandomInt from '../../helpers/getRandomInt'\r\nimport { getChanceAttack, getChanceMagic } from '../../helpers/getChance'\r\nimport config from '../../config/default.json'\r\nimport noneImg from '../../assets/png/none.png'\r\n\r\nexport default function FightArea({ heroData, creepData, creepsCount }) {\r\n  const [hero, setHero] = useState({})\r\n  const [creeps, setCreeps] = useState({})\r\n  const [logs, setLogs] = useState([]) // [[heroDmg,creepDmg],...]\r\n  const [fightResult, setFightResult] = useState('')\r\n  const [clickCounter, setClickCounter] = useState(0)\r\n  const [heroHpBar, setHeroHpBar] = useState(100)\r\n  const [creepHpBar, setCreepHpBar] = useState(100)\r\n  const [loot, setLoot] = useState([])\r\n\r\n  useEffect(() => {\r\n    heroData && setHero(heroData)\r\n  }, [heroData])\r\n\r\n  //all creeps\r\n  useEffect(() => {\r\n    creepData.name && setCreeps({\r\n      name: creepData.name,\r\n      hp: creepData.hp * creepsCount,\r\n      dmg: {\r\n        min: creepData.dmg.min * creepsCount,\r\n        max: creepData.dmg.max * creepsCount\r\n      },\r\n      buff: creepData.buff,\r\n      evasion: creepData.evasion,\r\n      buffLoot: creepData.buffLoot,\r\n      loot: creepData.loot,\r\n      crit: {\r\n        chance: creepData.crit.chance,\r\n        dmg: creepData.crit.dmg\r\n      },\r\n      img: creepData.img,\r\n      count: creepsCount\r\n    })\r\n\r\n  }, [creepData])\r\n\r\n  const prepareLootArr = () => {\r\n    const lootArr = creeps.loot.map(item => {\r\n      if (getChanceMagic(item.chance)) {\r\n        return item\r\n      } else {\r\n        return\r\n      }\r\n    })\r\n\r\n    return lootArr\r\n  }\r\n\r\n  const handleAttackCreep = () => {\r\n    if (fightResult) return\r\n\r\n    //evasion chance\r\n    const isAttackHero = getChanceAttack(creeps.evasion)\r\n    const isAttackCreeps = getChanceAttack(hero.buffHp.evasion)\r\n\r\n    let creepHpAfterAttack = creeps.hp;\r\n    let heroDefAfterAttack = hero.def;\r\n    // army Damage\r\n    let allHeroDmg, horsemenDmg, archersDmg, infantryDmg, mageDmg, humanDmg, elfDmg, gnomeDmg, valarDmg, morgoteDmg, critical, surprise;\r\n    //hero attack\r\n    if (isAttackHero) {\r\n      horsemenDmg = getRandomInt(hero.army.horsemen.minDmg * hero.army.horsemen.count, hero.army.horsemen.maxDmg * hero.army.horsemen.count)\r\n      archersDmg = getRandomInt(hero.army.archers.minDmg * hero.army.archers.count, hero.army.archers.maxDmg * hero.army.archers.count)\r\n      infantryDmg = getRandomInt(hero.army.infantry.minDmg * hero.army.infantry.count, hero.army.infantry.maxDmg * hero.army.infantry.count)\r\n\r\n      //magic\r\n      mageDmg = getChanceMagic(hero.heroMagic.mage.chance) ? hero.heroMagic.mage.dmg : 0\r\n      humanDmg = getChanceMagic(hero.heroMagic.human.chance) ? hero.heroMagic.human.dmg : 0\r\n      elfDmg = getChanceMagic(hero.heroMagic.elf.chance) ? hero.heroMagic.elf.dmg : 0\r\n      gnomeDmg = getChanceMagic(hero.heroMagic.gnome.chance) ? hero.heroMagic.gnome.dmg : 0\r\n      valarDmg = getChanceMagic(hero.heroMagic.valar.chance) ? hero.heroMagic.valar.dmg : 0\r\n      morgoteDmg = getChanceMagic(hero.heroMagic.morgote.chance) ? hero.heroMagic.morgote.dmg : 0\r\n\r\n      const magicDmg = mageDmg + humanDmg + elfDmg + gnomeDmg + valarDmg + morgoteDmg\r\n      allHeroDmg = horsemenDmg + archersDmg + infantryDmg + magicDmg\r\n\r\n      critical = getChanceMagic(hero.buffAttack.crit.chance)\r\n      if (critical) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.crit.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      surprise = getChanceMagic(hero.buffAttack.surprise.chance)\r\n      if (surprise) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.surprise.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      creepHpAfterAttack = creepHpAfterAttack - allHeroDmg\r\n\r\n\r\n      if (creepHpAfterAttack <= 0) {\r\n        setCreeps({ ...creeps, hp: 0 })\r\n        setCreepHpBar(0)\r\n        setLoot(prepareLootArr())\r\n      } else {\r\n        setCreeps({ ...creeps, hp: creepHpAfterAttack })\r\n        setCreepHpBar(parseInt((creepHpAfterAttack / creeps.hp) * 100))\r\n      }\r\n\r\n    } else {\r\n      allHeroDmg = 'Промах'\r\n    }\r\n\r\n\r\n    //creep attack\r\n    let creepDmg;\r\n    if (isAttackCreeps) {\r\n      creepDmg = creepHpAfterAttack > 0 ? getRandomInt(creeps.dmg.min, creeps.dmg.max) : 0  /// if draw(ничья) dmg = 0\r\n      heroDefAfterAttack = hero.def - creepDmg\r\n\r\n      if (heroDefAfterAttack <= 0) {\r\n        setHeroHpBar(0)\r\n        setHero({ ...hero, def: 0 })\r\n      } else if (creepDmg === 0) {\r\n        setHero({ ...hero, def: heroDefAfterAttack })\r\n      }\r\n      else {\r\n        setHero({ ...hero, def: heroDefAfterAttack })\r\n        setHeroHpBar(parseInt((heroDefAfterAttack / hero.def) * 100))\r\n      }\r\n\r\n    } else {\r\n      creepDmg = 'Промах'\r\n    }\r\n\r\n\r\n    setLogs([...logs, { allHeroDmg: allHeroDmg, horsemenDmg: horsemenDmg, archersDmg: archersDmg, infantryDmg: infantryDmg, creepDmg: creepDmg, mageDmg: mageDmg, humanDmg: humanDmg, elfDmg: elfDmg, gnomeDmg: gnomeDmg, valarDmg: valarDmg, morgoteDmg: morgoteDmg, critical: critical, surprise: surprise }])\r\n\r\n    if (creepHpAfterAttack <= 0) setFightResult('Победа')\r\n    if (heroDefAfterAttack <= 0) setFightResult('Поражение')\r\n    if (heroDefAfterAttack <= 0 && creepHpAfterAttack <= 0) setFightResult('Ничья')\r\n  }\r\n\r\n  return (\r\n    <div className='fightArea'>\r\n      <h2 className='fightArea__title'>Поле сражения</h2>\r\n      {fightResult &&\r\n        <h3 className={`fightArea__fightResult ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`}>{fightResult}</h3>\r\n      }\r\n      {fightResult &&\r\n        <button className={`fightArea__fightResult fightArea__btnReset ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`} onClick={() => window.location.reload()}>Начать новый бой</button>\r\n      }\r\n      <div className=\"fightArea__fight\">\r\n        {hero &&\r\n          <div className=\"fightArea__hero fightArea__item\">\r\n            <div className='fightArea__itemTitle'>\r\n              Оборона:{hero.def}\r\n              <div className=\"fightArea__hitBar fightArea__hitBar--hero\" style={{ 'width': heroHpBar + '%' }}></div>\r\n            </div>\r\n            <img src={heroImg} alt=\"hero\" />\r\n          </div>\r\n        }\r\n\r\n        <div className=\"fightArea__btnContainer\">\r\n          <span className='fightArea__vs'>VS</span>\r\n          <button className='fightArea__btnAttack' onClick={() => handleAttackCreep()} disabled={!creepData.name}>Атака</button>\r\n        </div>\r\n\r\n        {creepData.name &&\r\n          <>\r\n            <div className=\"fightArea__creep fightArea__item\">\r\n              <div className='fightArea__hpBar fightArea__itemTitle'>\r\n                {creeps.name} Здоровье:{creeps.hp}\r\n                <div className=\"fightArea__hitBar\" style={{ 'width': creepHpBar + '%' }}></div>\r\n              </div>\r\n              <img className=\"fightArea__creepImg\" src={`${config.serverUrl}/api/images/${creeps.img}`} alt={creeps.name} />\r\n            </div>\r\n          </>\r\n        }\r\n        {!creepData.name &&\r\n          <>\r\n            <div className=\"fightArea__creep fightArea__item\">\r\n              <div className='fightArea__hpBar fightArea__itemTitle'>\r\n                Найдите равного себе соперника\r\n                <div className=\"fightArea__hitBar\" style={{ 'width': creepHpBar + '%' }}></div>\r\n              </div>\r\n              <img className=\"fightArea__creepImg\" src={noneImg} alt='Поле' />\r\n            </div>\r\n          </>\r\n        }\r\n      </div>\r\n      <div className=\"fightArea__logsContainer\">\r\n        <h3>Логи:</h3>\r\n        <div className=\"fightArea__logs\">\r\n          {\r\n            logs.map((log, index) => (\r\n              <p key={index}>\r\n                <span>\r\n                  Урон всего:\r\n                  {log.critical && <span>Критический урон</span>}\r\n                  {log.critical && log.surprise && <span>+</span>}\r\n                  {log.surprise && <span>Внезапный урон</span>}\r\n                  {log.allHeroDmg}\r\n                </span>\r\n                <span>Урон крипа: {log.creepDmg} </span>\r\n                {log.allHeroDmg > 0 &&\r\n                  <>\r\n                    <span>\r\n                      Урон всадников:{log.horsemenDmg} Урон лучников:{log.archersDmg} Урон пехоты:{log.infantryDmg}\r\n                    </span>\r\n                    {log.mageDmg > 0 && <span>Урон мага:{log.mageDmg}</span>}\r\n                    {log.humanDmg > 0 && <span>Урон человека:{log.humanDmg}</span>}\r\n                    {log.elfDmg > 0 && <span>Урон эльфа:{log.elfDmg}</span>}\r\n                    {log.gnomeDmg > 0 && <span>Урон гнома:{log.gnomeDmg}</span>}\r\n                    {log.valarDmg > 0 && <span>Воля валар:{log.valarDmg}</span>}\r\n                    {log.morgoteDmg > 0 && <span>Воля моргота:{log.morgoteDmg}</span>}\r\n                  </>\r\n                }\r\n\r\n              </p>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className=\"fightArea__logsContainer\">\r\n        <h2>Добыча:</h2>\r\n        <div className=\"fightArea__logs fightArea__loot\">\r\n          {\r\n            fightResult === 'Победа' &&\r\n            loot.map(item => (\r\n              <div>{item.itemName}</div>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchCreep = createAsyncThunk('creep/fetchCreep', async (name) => {\r\n  const data = axios.get(`${config.serverUrl}/api/creeps?name=${name}`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getCreep = createSelector(\r\n  state => state.creep.data,\r\n  creep => creep\r\n);","import React from 'react'\r\nimport './NavPanel.scss'\r\n\r\nexport default function NavPanel() {\r\n  return (\r\n    <ul className='nav'>\r\n      <li className=\"nav__item nav__item--backpack\">\r\n        <span className=\"nav__text\">Сундук добычи</span>\r\n      </li>\r\n      <li className=\"nav__item nav__item--altar\">\r\n        <span className=\"nav__text\">Алтарь Эссенций</span></li>\r\n      <li className=\"nav__item  nav__item--forge\">\r\n        <span className=\"nav__text\">Кузница</span></li>\r\n      <li className=\"nav__item  nav__item--pvp\">\r\n        <span className=\"nav__text\">PVP звания и награды</span></li>\r\n      <li className=\"nav__item  nav__item--barracks\">\r\n        <span className=\"nav__text\">Казарма</span></li>\r\n      <li className=\"nav__item  nav__item--shop\">\r\n        <span className=\"nav__text\">Магазин</span></li>\r\n    </ul>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/woods.ed1e4efd.png\";","import { createAction,createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const selectLocationType = createAction('CHANGE_SELECTED_TYPE')\r\n\r\nexport const selectLocLvl = createAction('CHANGE_SELECTED_LOCATION_LVL')\r\n\r\nexport const selectLocation = createAction('CHANGE_SELECTED_LOCATION')\r\n\r\nexport const selectedCreepInLocation = createAction('CHANGE_SELECTED_CREEP_IN_LOCATION')\r\n\r\nexport const fetchLocation = createAsyncThunk('location/fetchLoc', async (lvl) => {\r\n  const data = axios.get(`${config.serverUrl}/api/location?lvl=${lvl}`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\nexport const fetchCreepsInLocation = createAsyncThunk('location/fetchCreeps', async (namesArr) => {\r\n  const data = axios.post(`${config.serverUrl}/api/creeps/locationCreeps`,namesArr).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getSelectedLocData = createSelector(\r\n  state => state.location,\r\n  location => location\r\n);\r\n\r\nexport const getSelectedType = createSelector(\r\n  state => state.location.selectedType,\r\n  type => type\r\n);\r\n\r\nexport const getSelectedCreep = createSelector(\r\n  state => state.location.selectedCreep,\r\n  creep => creep\r\n);\r\n\r\nexport const getSelectedLvl = createSelector(\r\n  state => state.location.selectedLvl,\r\n  lvl => lvl\r\n);\r\n\r\nexport const getSelectedLoc = createSelector(\r\n  state => state.location.selectedLoc,\r\n  loc => loc\r\n);\r\n\r\nexport const getCreeps = createSelector(\r\n  state => state.location.creeps.data,\r\n  creeps => creeps\r\n);\r\n\r\nexport const getDataLocations = createSelector(\r\n  state => state.location.locations.data,\r\n  locs => locs\r\n);","import React,{useState} from 'react'\r\nimport './Location.scss'\r\nimport woods from '../../assets/png/woods.png'\r\nimport config from '../../config/default.json'\r\nimport { useDispatch } from 'react-redux'\r\nimport { selectedCreepInLocation, selectLocationType, selectLocLvl, selectLocation, fetchLocation, fetchCreepsInLocation } from '../../redux/actions/locationAction'\r\nimport { getSelectedType, getSelectedLvl,getSelectedCreep, getSelectedLoc, getDataLocations, getCreeps } from '../../redux/selectors/locationSelector'\r\nimport { useSelector } from 'react-redux'\r\nimport getRandomInt from '../../helpers/getRandomInt'\r\n\r\nexport default function Location({ className,creepData,creepsCount }) {\r\n  const dispatch = useDispatch()\r\n  const activeItemType = useSelector(getSelectedType) // type\r\n  const activeLvl = useSelector(getSelectedLvl)       // lvl\r\n  const activeLocation = useSelector(getSelectedLoc)  // loca\r\n  const creeps = useSelector(getCreeps)\r\n\r\n  const locations = useSelector(getDataLocations)     //location arr \r\n\r\n  const handleChangeActiveItem = (item) => {\r\n    dispatch(selectLocationType(item))\r\n    dispatch(selectLocLvl(''))\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n  const handleChangeActiveLvl = (lvl) => {\r\n    dispatch(fetchLocation(lvl))\r\n    dispatch(selectLocLvl(lvl))\r\n    dispatch(selectLocation(''))\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n  const handleChangeLocation = (location) => {\r\n    dispatch(selectLocation(location.name))\r\n    dispatch(fetchCreepsInLocation(location.creeps))\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={`location ${className}`}>\r\n      {/* Охота, поход, рейд, пвп */}\r\n      <ul className=\"location__nav\">\r\n        <li className={`location__navItem ${activeItemType === 'Охота' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Охота\")}>\r\n          Охота\r\n        </li>\r\n        <li className={`location__navItem ${activeItemType === 'Поход' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Поход\")}>\r\n          Поход\r\n        </li>\r\n        <li className={`location__navItem ${activeItemType === 'Рейд' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Рейд\")}>\r\n          Рейд (с 3 уровня)\r\n        </li>\r\n        <li className={`location__navItem ${activeItemType === 'ПВП' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"ПВП\")}>\r\n          ПВП(с 4 уровня)\r\n        </li>\r\n      </ul>\r\n\r\n      {/* слабый, обычный, средний... */}\r\n      {\r\n        activeItemType === 'Охота' &&\r\n        <div className='location__difficultyLvls'>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Слабый')}>\r\n            <span>1-9</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Слабый' && 'location__difficultNumber--active'}`}>1</span>\r\n            <span>Слабый</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Обычный')}>\r\n            <span>10-99</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Обычный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#CBFFB9' }}>2</span>\r\n            <span>Обычный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Средний')}>\r\n            <span>100-999</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Средний' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#B2CDFF' }}>3</span>\r\n            <span>Средний</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Сильный')}>\r\n            <span>1к-9.99к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Сильный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#9584FF' }}>4</span>\r\n            <span>Сильный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Мощный')}>\r\n            <span>10к-99.9к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Мощный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#F68CFF' }}>5</span>\r\n            <span>Мощный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Великий')}>\r\n            <span>100к-999к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Великий' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#FF4F4F', color: '#fff' }}>6</span>\r\n            <span>Великий</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Эпический')}>\r\n            <span>1м-9.99м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Эпический' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#FF2929', color: '#fff' }}>7</span>\r\n            <span>Эпический</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Невероятный')}>\r\n            <span>10м-99.9м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Невероятный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#3F3F3F', color: '#fff' }}>8</span>\r\n            <span>Невероятный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Легендарный')}>\r\n            <span>100м-999м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Легендарный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#000', color: '#fff' }}>9</span>\r\n            <span>Легендарный</span>\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n      {/* Локации */}\r\n      {\r\n        activeLvl && !activeLocation &&\r\n        <div className='location__itemsContainer' >\r\n          {locations.map(loc => (\r\n            <div className=\"location__item\" onClick={() => handleChangeLocation(loc)}>\r\n              <img src={woods} alt=\"location\" className=\"location__itemImg\" />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      }\r\n\r\n      {/* крипы */}\r\n      {activeLocation &&\r\n        <div className='creeps'>\r\n          <div className='creeps__btns'>\r\n            <button type='button' onClick={() => handleChangeLocation('')}>Назад</button>\r\n            <h3>{activeLocation}</h3>\r\n            <button type='button'>Обновить</button>\r\n          </div>\r\n          <div className='creeps__items'>\r\n            {\r\n              creeps.map((creep,i ) => (\r\n                <div key={i} className=\"creeps__item\" onClick={() => dispatch(selectedCreepInLocation(creep.name))}>\r\n                  <img className='creeps__img' src={`${config.serverUrl}/api/images/${creep.img}`} alt={creep.name} />\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n      {\r\n        creepData.name &&\r\n        <div className='fightArea__infoContainer'>\r\n          <h3>Кол-во: {creepsCount}</h3>\r\n          <div>Усиление: {creepData.buff}</div>\r\n          <div>Уворот: {creepData.evasion}%</div>\r\n          {creepData.crit && <div>Шанс крита: {creepData.crit.chance}%</div>}\r\n          {creepData.crit && <div>Урон крита: {creepData.crit.dmg}%</div>}\r\n          <div>Увеличение добычи: 0%</div>\r\n          {creepData.dmg && <div>Атака: {creepData.dmg.min * creepsCount} - {creepData.dmg.max * creepsCount}</div>}\r\n          {creepData && <div>Здоровье: {creepData.hp * creepsCount}</div>}\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport HeroPanel from '../../components/HeroPanel/HeroPanel'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { fetchHero } from '../../redux/actions/heroAction'\r\nimport { getHero } from '../../redux/selectors/heroSelector'\r\nimport FightArea from '../../components/FightArea/FightArea'\r\nimport './Homepage.scss'\r\nimport { fetchCreep } from '../../redux/actions/creepAction'\r\nimport { getCreep } from '../../redux/selectors/creepSelector'\r\nimport NavPanel from '../../components/NavPanel/NavPanel'\r\nimport Location from '../../components/Location/Location'\r\nimport { getSelectedCreep, getSelectedLvl } from '../../redux/selectors/locationSelector'\r\nimport getCountByLvl from '../../helpers/getCountByLvl'\r\n\r\nexport default function Homepage() {\r\n  const adminLogin = 'admin'\r\n  const creepsCount = getCountByLvl('Слабый')\r\n  const selectedCreepInLocation = useSelector(getSelectedCreep)\r\n\r\n  const dispatch = useDispatch()\r\n  const hero = useSelector(getHero)\r\n  const creep = useSelector(getCreep)\r\n  \r\n\r\n  useEffect(() => {\r\n    dispatch(fetchHero(adminLogin))\r\n    dispatch(fetchCreep(selectedCreepInLocation))\r\n  }, [selectedCreepInLocation])\r\n\r\n  return (\r\n    <div className='home'>\r\n      <div className=\"home__figthArea\">\r\n        <HeroPanel hero={hero} className='home__heroPanel'/>\r\n        <FightArea heroData={hero} creepData={creep} creepsCount={creepsCount} />\r\n        <Location className='home__location' creepData={creep} creepsCount={creepsCount}/>\r\n      </div>\r\n      <div className='home__nav'>\r\n        <NavPanel />\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import getRandomInt from './getRandomInt'\r\n\r\nexport default function getCountByLvl (lvl) {\r\n  if(lvl === 'Слабый') return getRandomInt(1,9)\r\n}","import React from 'react'\r\nimport { Redirect, Route, Switch, BrowserRouter as Router } from \"react-router-dom\"\r\nimport Homepage from './pages/Homepage/Homepage'\r\n\r\nexport default function Routes() {\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/home\">\r\n          <Homepage />\r\n        </Route>\r\n        <Redirect to='/home'/>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchCreep } from '../actions/creepAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: {},\r\n  error: null\r\n};\r\n\r\nconst creepReducer = createReducer(initialState, {\r\n  [fetchCreep.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchCreep.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchCreep.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload;\r\n  }\r\n});\r\n\r\nexport default creepReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchHero } from '../actions/heroAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: null\r\n};\r\n\r\nconst heroReducer = createReducer(initialState, {\r\n  [fetchHero.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchHero.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchHero.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload;\r\n  }\r\n});\r\n\r\nexport default heroReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { selectedCreepInLocation, selectLocationType, selectLocLvl, fetchLocation, selectLocation,fetchCreepsInLocation } from '../actions/locationAction'\r\n\r\nconst initialState = {\r\n  selectedType: 'Охота',\r\n  selectedLvl: null,\r\n  selectedLoc: '',\r\n  selectedCreep: '',\r\n  locations: {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n  },\r\n  creeps: {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n  }\r\n};\r\n\r\nconst creepReducer = createReducer(initialState, {\r\n  [selectLocationType.type]: (state, action) => {\r\n    state.selectedType = action.payload;\r\n  },\r\n  [selectLocLvl.type]: (state, action) => {\r\n    state.selectedLvl = action.payload;\r\n  },\r\n  [selectLocation.type]: (state, action) => {\r\n    state.selectedLoc = action.payload;\r\n  },\r\n  [selectedCreepInLocation.type]: (state, action) => {\r\n    state.selectedCreep = action.payload;\r\n  },\r\n  [fetchLocation.pending]: (state) => {\r\n    state.locations.loading = true;\r\n    state.locations.error = null\r\n  },\r\n  [fetchLocation.fulfilled]: (state, action) => {\r\n    state.locations.data = action.payload;\r\n    state.locations.loading = false;\r\n  },\r\n  [fetchLocation.rejected]: (state, action) => {\r\n    state.locations.loading = false;\r\n    state.locations.error = action.payload;\r\n  },\r\n  [fetchCreepsInLocation.pending]: (state) => {\r\n    state.creeps.loading = true;\r\n    state.creeps.error = null\r\n  },\r\n  [fetchCreepsInLocation.fulfilled]: (state, action) => {\r\n    state.creeps.data = action.payload;\r\n    state.creeps.loading = false;\r\n  },\r\n  [fetchCreepsInLocation.rejected]: (state, action) => {\r\n    state.creeps.loading = false;\r\n    state.creeps.error = action.payload;\r\n  },\r\n});\r\n\r\nexport default creepReducer","import { combineReducers } from '@reduxjs/toolkit'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport creepReducer from './reducers/creepReducer'\r\nimport heroReducer from './reducers/heroReducer'\r\nimport locationReducer from './reducers/locationReducer'\r\n\r\nexport default combineReducers({\r\n  hero: heroReducer,\r\n  creep: creepReducer,\r\n  location: locationReducer,\r\n  form: formReducer\r\n})","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'warofthenumenor'\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n  const [userId, setUserId] = useState(null)\r\n \r\n\r\n  const login = useCallback((jwtToken, id) => {\r\n    setToken(jwtToken)\r\n    setUserId(id)\r\n\r\n    window.localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken\r\n    }))\r\n  }, [])\r\n\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null)\r\n    setUserId(null)\r\n    window.localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(window.localStorage.getItem(storageName))\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId)\r\n    }\r\n    setReady(true)\r\n  }, [login])\r\n\r\n\r\n  return { login, logout, token, userId: userId, ready }\r\n}","import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop(),\r\n  logout: noop(),\r\n  isAuthenticated: false\r\n})","import './App.css';\nimport Routes from './Routes';\nimport createStore from './redux/createStore'\nimport { Provider } from 'react-redux'\nimport { useAuth } from './hooks/useAuth'\nimport { AuthContext } from './context/AuthContext';\n\nconst store = createStore();\n\nfunction App() {\n  const { token, login, logout, userId, ready } = useAuth();\n  const isAuthenticated = !!token\n\n  return (\n    <Provider store={store}>\n      <AuthContext.Provider value={{ token, login, logout, userId, ready, isAuthenticated }}>\n        <Routes />\n      </AuthContext.Provider>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport rootReducer from './rootReducer';\r\n\r\nexport default () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n    devTools: true,\r\n  })\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}