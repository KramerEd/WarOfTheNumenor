(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,c,t){},106:function(e,c,t){},184:function(e,c,t){"use strict";t.r(c);var r=t(0),n=t.n(r),a=t(31),i=t.n(a),s=(t(76),t(77),t(68)),o=t(3),h=(t(78),t(1));function l(e){var c=e.hero,t=c&&c.army.horsemen.count+c.army.archers.count+c.army.infantry.count;return Object(h.jsx)(h.Fragment,{children:c&&Object(h.jsxs)("div",{className:"heroPanel",children:[Object(h.jsxs)("h2",{children:["\u0418\u043c\u044f: ",c.login]}),Object(h.jsxs)("div",{className:"heroPanel__container",children:[Object(h.jsxs)("p",{children:["\u041c\u043e\u0449\u044c:",c.power]}),Object(h.jsxs)("p",{children:["\u0423\u0440\u043e\u0432\u0435\u043d\u044c:",c.level]})]}),Object(h.jsxs)("div",{className:"heroPanel__container",children:[Object(h.jsxs)("p",{children:["\u0423\u0440\u043e\u043d \u0430\u0440\u043c\u0438\u0438:",c.attack.minDmg," - ",c.attack.maxDmg]}),Object(h.jsxs)("p",{children:["\u0417\u0430\u0449\u0438\u0442\u0430:",c.def]})]}),Object(h.jsxs)("div",{className:"heroPanel__army heroPanel__infoContainer",children:[Object(h.jsx)("h3",{className:"heroPanel__title",children:"\u0412\u043e\u0439\u0441\u043a\u043e:"}),Object(h.jsxs)("p",{children:["\u041a\u043e\u043b-\u0432\u043e: ",t]}),Object(h.jsxs)("p",{children:["\u0410\u0442\u0430\u043a\u0430: ",1*t," - ",3*t]}),Object(h.jsxs)("p",{children:["\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435: ",c.army.horsemen.minionHp]}),Object(h.jsxs)("p",{children:["\u0412\u0441\u0430\u0434\u043d\u0438\u043a\u0438: ",c.army.horsemen.count," \u0423\u0440\u043e\u043d:",c.army.horsemen.minDmg," - ",c.army.horsemen.maxDmg," \u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435: ",c.army.horsemen.minionHp]}),Object(h.jsxs)("p",{children:["\u041b\u0443\u0447\u043d\u0438\u043a\u0438: ",c.army.archers.count," \u0423\u0440\u043e\u043d:",c.army.archers.minDmg," - ",c.army.archers.maxDmg," \u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435: ",c.army.archers.minionHp]}),Object(h.jsxs)("p",{children:["\u041f\u0435\u0445\u043e\u0442\u0430: ",c.army.infantry.count," \u0423\u0440\u043e\u043d:",c.army.infantry.minDmg," - ",c.army.infantry.maxDmg," \u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435: ",c.army.infantry.minionHp]})]}),Object(h.jsxs)("div",{className:"heroPanel__magic heroPanel__infoContainer",children:[Object(h.jsx)("h3",{className:"heroPanel__title",children:"\u041c\u0430\u0433\u0438\u044f \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0433\u0435\u0440\u043e\u0435\u0432:"}),Object(h.jsxs)("p",{children:["\u041c\u0430\u0433: ",c.heroMagic.mage.chance,"% \u0443\u0440\u043e\u043d ",c.heroMagic.mage.dmg]}),Object(h.jsxs)("p",{children:["\u0427\u0435\u043b\u043e\u0432\u0435\u043a: ",c.heroMagic.human.chance,"% \u0443\u0440\u043e\u043d ",c.heroMagic.human.dmg]}),Object(h.jsxs)("p",{children:["\u042d\u043b\u044c\u0444: ",c.heroMagic.elf.chance,"% \u0443\u0440\u043e\u043d ",c.heroMagic.elf.dmg]}),Object(h.jsxs)("p",{children:["\u0413\u043d\u043e\u043c: ",c.heroMagic.gnome.chance,"% \u0443\u0440\u043e\u043d ",c.heroMagic.gnome.dmg]}),Object(h.jsxs)("p",{children:["\u0412\u043e\u043b\u044f \u0412\u0430\u043b\u0430\u0440: ",c.heroMagic.valar.chance,"% \u0443\u0440\u043e\u043d ",c.heroMagic.valar.dmg]}),Object(h.jsxs)("p",{children:["\u0412\u043e\u043b\u044f \u041c\u043e\u0440\u0433\u043e\u0442\u0430: ",c.heroMagic.morgote.chance,"% \u0443\u0440\u043e\u043d ",c.heroMagic.morgote.dmg]})]}),Object(h.jsxs)("div",{className:"heroPanel__buffAttack heroPanel__infoContainer",children:[Object(h.jsx)("h3",{className:"heroPanel__title",children:"\u0423\u0441\u0438\u043b\u0435\u043d\u0438\u0435 \u0430\u0442\u0430\u043a\u0438:"}),Object(h.jsxs)("p",{children:["\u041a\u0440\u0438\u0442 \u0448\u0430\u043d\u0441: ",c.buffAttack.crit.chance,"% "]}),Object(h.jsxs)("p",{children:["\u041a\u0440\u0438\u0442 \u0443\u0440\u043e\u043d: ",c.buffAttack.crit.dmg,"%"]}),Object(h.jsxs)("p",{children:["\u0428\u0430\u043d\u0441 \u0432\u043d\u0435\u0437\u0430\u043f\u043d\u043e\u0441\u0442\u0438: ",c.buffAttack.surprise.chance,"%"]}),Object(h.jsxs)("p",{children:["\u0423\u0440\u043e\u043d \u0432\u043d\u0435\u0437\u0430\u043f\u043d\u043e\u0441\u0442\u0438: ",c.buffAttack.surprise.dmg,"%"]})]}),Object(h.jsxs)("div",{className:"heroPanel__buffHp heroPanel__infoContainer",children:[Object(h.jsx)("h3",{className:"heroPanel__title",children:"\u0423\u0441\u0438\u043b\u0435\u043d\u0438\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f:"}),Object(h.jsxs)("p",{children:["\u0417\u0430\u0449\u0438\u0442\u0430: ",c.buffHp.def,"% \u0443\u0432. \u0437\u0434\u043e\u0440."]}),Object(h.jsxs)("p",{children:["\u0411\u0440\u043e\u043d\u044f: ",c.buffHp.armour,"% \u043a (\u0437\u0434\u043e\u0440.+\u0437\u0430\u0449.)"]}),Object(h.jsxs)("p",{children:["\u0423\u0432\u043e\u0440\u043e\u0442: ",c.buffHp.evasion,"%"]})]})]})})}var j=t(18),m=t(17),d=t.n(m),g=t(34),u=t(6),b=t(35),f=t.n(b),O=t(36),p=Object(u.b)("hero/fetchHero",function(){var e=Object(g.a)(d.a.mark((function e(c){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.get("".concat(O.serverUrl,"/api/heroes/").concat(c)).then((function(e){return e.data})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}()),x=t(32),v=Object(x.a)((function(e){return e.hero.data[0]}),(function(e){return e})),_=t(71),y=t(25),D=t(12),A=t.p+"static/media/creep.652cb964.png",M=t.p+"static/media/hero.2b8f2de0.png";t(105);function N(e){var c=e.heroData,t=e.creepData,n=e.creepsCount,a=Object(r.useState)({}),i=Object(D.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)({}),j=Object(D.a)(l,2),m=j[0],d=j[1],g=Object(r.useState)([]),u=Object(D.a)(g,2),b=u[0],f=u[1],O=Object(r.useState)(""),p=Object(D.a)(O,2),x=p[0],v=p[1],N=Object(r.useState)(0),k=Object(D.a)(N,2);k[0],k[1];Object(r.useEffect)((function(){c&&o(c)}),[c]),Object(r.useEffect)((function(){t&&d({name:t.name,hp:t.hp*n,dmg:{min:t.dmg.min*n,max:t.dmg.max*n},buff:t.buff,evasion:t.evasion,buffLoot:t.buffLoot,loot:t.loot,crit:{chance:t.crit.chance,dmg:t.crit.dmg},count:n})}),[t]);var C=function(e,c){return e=Math.ceil(e),c=Math.floor(c),Math.floor(Math.random()*(c-e))+e},P=function(e){var c,t=100*Math.random();return t>=e&&(c=!0),t<e&&(c=!1),c},S=function(e){return 100*Math.random()<=e};return Object(h.jsxs)("div",{className:"fightArea",children:[Object(h.jsx)("h2",{className:"fightArea__title",children:"\u041f\u043e\u043b\u0435 \u0441\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),x&&Object(h.jsx)("h3",{className:"fightArea__fightResult ".concat("\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"===x&&"fightArea__fightResult--defeat"),children:x}),Object(h.jsxs)("div",{className:"fightArea__fight",children:[s&&Object(h.jsxs)("div",{className:"fightArea__hero fightArea__item",children:[Object(h.jsxs)("div",{className:"fightArea__itemTitle",children:["\u041e\u0431\u043e\u0440\u043e\u043d\u0430:",s.def]}),Object(h.jsx)("img",{src:M,alt:"hero"})]}),Object(h.jsxs)("div",{className:"fightArea__btnContainer",children:[Object(h.jsx)("span",{className:"fightArea__vs",children:"VS"}),Object(h.jsx)("button",{className:"fightArea__btnAttack",onClick:function(){return function(){if(!x){var e,c,t,r,n,a,i,h,l,j,g,u,O,p=P(m.evasion),D=P(s.buffHp.evasion),A=m.hp,M=s.def;p?(e=(c=C(s.army.horsemen.minDmg*s.army.horsemen.count,s.army.horsemen.maxDmg*s.army.horsemen.count))+(t=C(s.army.archers.minDmg*s.army.archers.count,s.army.archers.maxDmg*s.army.archers.count))+(r=C(s.army.infantry.minDmg*s.army.infantry.count,s.army.infantry.maxDmg*s.army.infantry.count))+((n=S(s.heroMagic.mage.chance)?s.heroMagic.mage.dmg:0)+(a=S(s.heroMagic.human.chance)?s.heroMagic.human.dmg:0)+(i=S(s.heroMagic.elf.chance)?s.heroMagic.elf.dmg:0)+(h=S(s.heroMagic.gnome.chance)?s.heroMagic.gnome.dmg:0)+(l=S(s.heroMagic.valar.chance)?s.heroMagic.valar.dmg:0)+(j=S(s.heroMagic.morgote.chance)?s.heroMagic.morgote.dmg:0)),(g=S(s.buffAttack.crit.chance))&&(e=parseInt(e*s.buffAttack.crit.dmg/100+e)),(u=S(s.buffAttack.surprise.chance))&&(e=parseInt(e*s.buffAttack.surprise.dmg/100+e)),A-=e,d(Object(y.a)(Object(y.a)({},m),{},{hp:A}))):e="\u041f\u0440\u043e\u043c\u0430\u0445",D?(O=A>0?C(m.dmg.min,m.dmg.max):0,M=s.def-O,o(Object(y.a)(Object(y.a)({},s),{},{def:M}))):O="\u041f\u0440\u043e\u043c\u0430\u0445",f([].concat(Object(_.a)(b),[{allHeroDmg:e,horsemenDmg:c,archersDmg:t,infantryDmg:r,creepDmg:O,mageDmg:n,humanDmg:a,elfDmg:i,gnomeDmg:h,valarDmg:l,morgoteDmg:j,critical:g,surprise:u}])),A<=0&&v("\u041f\u043e\u0431\u0435\u0434\u0430"),M<=0&&v("\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),M<=0&&A<=0&&v("\u041d\u0438\u0447\u044c\u044f")}}()},children:"\u0410\u0442\u0430\u043a\u0430"})]}),m&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"fightArea__creep fightArea__item",children:[Object(h.jsxs)("div",{className:"fightArea__infoContainer",children:[Object(h.jsxs)("div",{className:"fightArea__creepInfo fightArea__itemTitle",children:[m.name," \u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435:",m.hp," "]}),Object(h.jsx)("img",{src:A,alt:"creep"})]}),Object(h.jsxs)("div",{className:"fightArea__infoContainer",children:[Object(h.jsxs)("h3",{children:["\u041a\u043e\u043b-\u0432\u043e: ",m.count]}),Object(h.jsxs)("div",{children:["\u0423\u0441\u0438\u043b\u0435\u043d\u0438\u0435: ",m.buff]}),Object(h.jsxs)("div",{children:["\u0423\u0432\u043e\u0440\u043e\u0442: ",m.evasion,"%"]}),m.crit&&Object(h.jsxs)("div",{children:["\u0428\u0430\u043d\u0441 \u043a\u0440\u0438\u0442\u0430: ",m.crit.chance,"%"]}),m.crit&&Object(h.jsxs)("div",{children:["\u0423\u0440\u043e\u043d \u043a\u0440\u0438\u0442\u0430: ",m.crit.dmg,"%"]}),Object(h.jsx)("div",{children:"\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u0431\u044b\u0447\u0438: 0%"}),m.dmg&&Object(h.jsxs)("div",{children:["\u0410\u0442\u0430\u043a\u0430: ",m.dmg.min," - ",m.dmg.max]}),t&&Object(h.jsxs)("div",{children:["\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435: ",t.hp*n]})]})]})})]}),Object(h.jsxs)("div",{className:"fightArea__logsContainer",children:[Object(h.jsx)("h3",{children:"\u041b\u043e\u0433\u0438:"}),Object(h.jsx)("div",{className:"fightArea__logs",children:b.map((function(e,c){return Object(h.jsxs)("p",{children:[Object(h.jsxs)("span",{children:["\u0423\u0440\u043e\u043d \u0432\u0441\u0435\u0433\u043e:",e.critical&&Object(h.jsx)("span",{children:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0443\u0440\u043e\u043d"}),e.critical&&e.surprise&&Object(h.jsx)("span",{children:"+"}),e.surprise&&Object(h.jsx)("span",{children:"\u0412\u043d\u0435\u0437\u0430\u043f\u043d\u044b\u0439 \u0443\u0440\u043e\u043d"}),e.allHeroDmg]}),Object(h.jsxs)("span",{children:["\u0423\u0440\u043e\u043d \u043a\u0440\u0438\u043f\u0430: ",e.creepDmg," "]}),e.allHeroDmg>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("span",{children:["\u0423\u0440\u043e\u043d \u0432\u0441\u0430\u0434\u043d\u0438\u043a\u043e\u0432:",e.horsemenDmg," \u0423\u0440\u043e\u043d \u043b\u0443\u0447\u043d\u0438\u043a\u043e\u0432:",e.archersDmg," \u0423\u0440\u043e\u043d \u043f\u0435\u0445\u043e\u0442\u044b:",e.infantryDmg]}),e.mageDmg>0&&Object(h.jsxs)("span",{children:["\u0423\u0440\u043e\u043d \u043c\u0430\u0433\u0430:",e.mageDmg]}),e.humanDmg>0&&Object(h.jsxs)("span",{children:["\u0423\u0440\u043e\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430:",e.humanDmg]}),e.elfDmg>0&&Object(h.jsxs)("span",{children:["\u0423\u0440\u043e\u043d \u044d\u043b\u044c\u0444\u0430:",e.elfDmg]}),e.gnomeDmg>0&&Object(h.jsxs)("span",{children:["\u0423\u0440\u043e\u043d \u0433\u043d\u043e\u043c\u0430:",e.gnomeDmg]}),e.valarDmg>0&&Object(h.jsxs)("span",{children:["\u0412\u043e\u043b\u044f \u0432\u0430\u043b\u0430\u0440:",e.valarDmg]}),e.morgoteDmg>0&&Object(h.jsxs)("span",{children:["\u0412\u043e\u043b\u044f \u043c\u043e\u0440\u0433\u043e\u0442\u0430:",e.morgoteDmg]})]})]},c)}))})]})]})}t(106);var k=Object(u.b)("creep/fetchCreep",function(){var e=Object(g.a)(d.a.mark((function e(c){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.get("".concat(O.serverUrl,"/api/creeps/").concat(c)).then((function(e){return e.data})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}()),C=Object(x.a)((function(e){return e.creep.data[0]}),(function(e){return e}));function P(){var e=Object(j.b)(),c=Object(j.c)(v),t=Object(j.c)(C);return Object(r.useEffect)((function(){e(p("admin")),e(k("\u0412\u043e\u043b\u043a"))}),[]),Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)(l,{hero:c}),Object(h.jsx)(N,{heroData:c,creepData:t,creepsCount:3})]})}function S(){return Object(h.jsx)(s.a,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/home",children:Object(h.jsx)(P,{})}),Object(h.jsx)(o.a,{to:"/home"})]})})}var w,I,H=t(10),F=t(186),E=t(11),J=Object(u.c)({loading:!1,data:[],error:null},(w={},Object(E.a)(w,k.pending,(function(e){e.loading=!0,e.error=null})),Object(E.a)(w,k.fulfilled,(function(e,c){e.data=c.payload,e.loading=!1})),Object(E.a)(w,k.rejected,(function(e,c){e.loading=!1,e.error=c.payload})),w)),T=Object(u.c)({loading:!1,data:[],error:null},(I={},Object(E.a)(I,p.pending,(function(e){e.loading=!0,e.error=null})),Object(E.a)(I,p.fulfilled,(function(e,c){e.data=c.payload,e.loading=!1})),Object(E.a)(I,p.rejected,(function(e,c){e.loading=!1,e.error=c.payload})),I)),L=Object(H.c)({hero:T,creep:J,form:F.a}),U="warofthenumenor";var B=Object(r.createContext)({token:null,userId:null,login:void 0,logout:void 0,isAuthenticated:!1}),R=Object(u.a)({reducer:L,devTools:!0});var V=function(){var e=function(){var e=Object(r.useState)(null),c=Object(D.a)(e,2),t=c[0],n=c[1],a=Object(r.useState)(!1),i=Object(D.a)(a,2),s=i[0],o=i[1],h=Object(r.useState)(null),l=Object(D.a)(h,2),j=l[0],m=l[1],d=Object(r.useCallback)((function(e,c){n(e),m(c),window.localStorage.setItem(U,JSON.stringify({userId:c,token:e}))}),[]),g=Object(r.useCallback)((function(){n(null),m(null),window.localStorage.removeItem(U)}),[]);return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem(U));e&&e.token&&d(e.token,e.userId),o(!0)}),[d]),{login:d,logout:g,token:t,userId:j,ready:s}}(),c=e.token,t=e.login,n=e.logout,a=e.userId,i=e.ready,s=!!c;return Object(h.jsx)(j.a,{store:R,children:Object(h.jsx)(B.Provider,{value:{token:c,login:t,logout:n,userId:a,ready:i,isAuthenticated:s},children:Object(h.jsx)(S,{})})})},q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,187)).then((function(c){var t=c.getCLS,r=c.getFID,n=c.getFCP,a=c.getLCP,i=c.getTTFB;t(e),r(e),n(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(V,{})}),document.getElementById("root")),q()},36:function(e){e.exports=JSON.parse('{"serverUrl":"https://warofthenumenor.herokuapp.com"}')},76:function(e,c,t){},77:function(e,c,t){},78:function(e,c,t){}},[[184,1,2]]]);
//# sourceMappingURL=main.d9a0ae63.chunk.js.map